<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://cyannote.github.io.git/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/plugin/bganimation/bg.css">
  

</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <div class="outer">
        <div class="widget-wrap mobile-header">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/source/plugin/img/avatar.jpg">
    <h2 class="author">inverse</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>19</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>0</strong><br>标签</div></a>
    </div>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

        <section id="main">
  
    <article id="post-JavaScript学习笔记" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/JavaScript学习笔记/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:06:34.057Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/JavaScript学习笔记/">JavaScript学习笔记</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h1><p>内容:</p>
<p>​    1.JavaScript概述</p>
<p>​    2.JavaScript语法及规则</p>
<p>​    3.BOM对象</p>
<p>​    4.DOM对象</p>
<hr>
<h2 id="1-JavaScript概述"><a href="#1-JavaScript概述" class="headerlink" title="1.JavaScript概述"></a>1.JavaScript概述</h2><h3 id="1-1-JavaScript是什么？有什么作用？"><a href="#1-1-JavaScript是什么？有什么作用？" class="headerlink" title="1.1 JavaScript是什么？有什么作用？"></a>1.1 JavaScript是什么？有什么作用？</h3><p>​    HTML：就是用来写网页的。   人的身体</p>
<p>​    CSS：  就是用来美化页面的。 人的衣服</p>
<p>​    JavaScript：前端大脑、灵魂。  人的大脑、灵魂</p>
<p>​    JavaScript是WEB上强大的<strong>脚本语言</strong>。</p>
<p>​    脚本语言：</p>
<p>​                  无法独立执行。必须嵌入到其他语言中，结合使用。</p>
<p>​                  直接被浏览器解析执行。</p>
<p>​    Java编程语言：</p>
<p>​    独立写程序，独立运行。 编译—执行</p>
<p>​    作用：控制页面特效展示。</p>
<p>​      例如： </p>
<p>​     JS可以对HTML元素进行动态控制</p>
<p>​     JS可以对表单项进行校验</p>
<p>​     JS可以控制CSS的样式；</p>
<h3 id="1-2-JavaScript的语言特征及编程注意事项"><a href="#1-2-JavaScript的语言特征及编程注意事项" class="headerlink" title="1.2 JavaScript的语言特征及编程注意事项"></a>1.2 JavaScript的语言特征及编程注意事项</h3><p>特征：<br>    JavaScript无需编译，直接被浏览器解释并执行<br>    JavaScript无法单独运行，必须嵌入到HTML代码中运行<br>    JavaScript的执行过程由上到下依次执行</p>
<p>注意：<br>    JavaScript没有访问系统文件的权限（安全）<br>    由于JavaScript无需编译，是由上到下依次解释执行，所以在保证可读性的情况下，允许使用链式编程<br>    JavaScript和java没有任何直接关系</p>
<h3 id="1-3-JavaScript的组成"><a href="#1-3-JavaScript的组成" class="headerlink" title="1.3  JavaScript的组成"></a>1.3  JavaScript的组成</h3><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559007509660.png" alt="1559007509660"></p>
<p>​    ECMAScript     (核心)：规定了JS的<strong>语法和基本对象</strong>。</p>
<p>​    DOM        文档对象模型：<strong>处理网页内容</strong>的方法和接口</p>
<p>标记型文档。HTML</p>
<p>​    BOM        浏览器对象模型：<strong>与浏览器交互</strong>的方法和接口</p>
<h3 id="1-4-JavaScript的引入方式"><a href="#1-4-JavaScript的引入方式" class="headerlink" title="1.4 JavaScript的引入方式"></a>1.4 JavaScript的引入方式</h3><ul>
<li><p><strong>内部脚本</strong></p>
<p>在当前页面内部写script标签，script内部即可书写JavaScript代码</p>
<p>格式：</p>
<script type="”text/javascript”">

JavaScript的代码

</script>

<p>示例：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559007643093.png" alt="1559007643093"></p>
<p>注：script标签理论上可以书写在HTML文件的任意位置</p>
</li>
<li><p><strong>外部引入</strong></p>
<p>在HTML文档中，通过<script src="””">标签引入.js文件</p>
</li>
</ul>
<p>  格式：</p>
  <script 
  type=”text/javascript”  src=”javascript文件路径”
  ></script>

</p><p>   注：外部引用时script标签内不能有script代码，即使写了也不会执行。</p>
<ul>
<li><p><strong>script标签规范化的放置位置</strong></p>
<p>开发规范规定，script标签的放置位置为：  Body结束标签前。</p>
<p>优点：</p>
<p>​    保证html展示内容优先加载，最后加载脚本。 增强用户体验性</p>
</li>
</ul>
<p>## </p>
<h2 id="2-JavaScript语法及规则"><a href="#2-JavaScript语法及规则" class="headerlink" title="2. JavaScript语法及规则"></a>2. JavaScript语法及规则</h2><h3 id="2-1-注释"><a href="#2-1-注释" class="headerlink" title="2.1 注释"></a>2.1 注释</h3><ul>
<li><p>单行注释</p>
<p> //      Hbuilder快捷键 ctrl+/</p>
</li>
</ul>
<p>​                  </p>
<ul>
<li>多行注释</li>
</ul>
<p>​         /* */   Hbuilder快捷键 ctrl+shift+/</p>
<h3 id="2-2-变量"><a href="#2-2-变量" class="headerlink" title="2.2 变量"></a>2.2 变量</h3><ul>
<li><p><strong>变量简述</strong></p>
<p>变量：标示内存中的一块空间，用于存储数据，且数据是可变的。 </p>
<p>变量的声明：</p>
<p>​         var 变量名;    //变量赋予默认值，默认值为undefined   （未定义的） </p>
<p>变量的声明和赋值：</p>
<p>​         var 变量名=值;   //变量赋予对应的值</p>
<p>在声明JavaScript变量时，需要遵循以下命名规范：</p>
<ul>
<li><p>必须以字母或下划线开头，中间可以是数字、字符或下划线</p>
</li>
<li><p>变量名不能包含空格等符号</p>
</li>
<li><p>不能使用JavaScript关键字作为变量名，如：function、this、class</p>
</li>
<li><p>JavaScript严格区分大小写。</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>基本数据类型</strong></p>
<p>类似于java中的基本数据类型</p>
<p>string                字符串类型。””和’’都是字符串。 JavaScript中没有单个字符</p>
<p>boolean            布尔类型。  固定值为true和false</p>
<p>number            数字类型。  任意数字</p>
<p>null                    空，一个占位符。</p>
<p>undefined        未定义类型，该类型只有一个固定值，即undefined，表示变量声明却未               定义具体的值。</p>
</li>
</ul>
<p>  注：因为undefined是从null中派生出来的，所以undefined==null</p>
<p>  JavaScript区别于java，是弱类型语言，变量的使用不用严格遵循规范，所以一个变量声明好之后，是可以赋予任意类型的值。</p>
<p>  通过typeof运算符可以分辨变量值属于哪种基本数据类型</p>
<p>  <img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559008192175.png" alt="1559008192175"></p>
<p>  ECMAScript实现之初的一个bug，null属于基本数据类型，typeof(null)-->object</p>
<ul>
<li><p><strong>引用数据类型</strong></p>
<p>引用类型通常叫做类（class），但在JavaScript中，因为不存在编译过程，所以没有类的概念，所处理的引用数据类型都是<strong>对象</strong>。</p>
</li>
</ul>
<p>  标准创建方式：</p>
<p>  ​         var str = new String();//和java相同</p>
<p>  ​         var str = new String;  //js独有的方式</p>
<h3 id="2-3-运算符"><a href="#2-3-运算符" class="headerlink" title="2.3 运算符"></a>2.3 运算符</h3><ul>
<li><p><strong>比较运算符</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559008319029.png" alt="1559008319029"></p>
<p>​         ==            逻辑等。仅仅对比 值</p>
<p>​         <strong>===</strong>           <strong>全等</strong>。  对比值并且对比类型。</p>
<p>如果值和类型都相同，则为true；值和类型有一个不同，则为false</p>
</li>
<li><p><strong>逻辑运算符</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559008369708.png" alt="1559008369708"></p>
<p>​         注：JavaScript逻辑运算符没有 &  |</p>
</li>
</ul>
<h3 id="2-4-正则对象"><a href="#2-4-正则对象" class="headerlink" title="2.4 正则对象"></a>2.4 正则对象</h3><ul>
<li><p><strong>RegExp对象的创建方式</strong></p>
<p>var reg = new RegExp("表达式");            （开发中基本不用）</p>
<p><strong>var reg = /^**</strong>表达式$/;                    <strong>直接量（开发中常用）</strong></p>
<p>直接量中存在边界，即^代表开始，$代表结束</p>
<p>直接量方式的正则是对象，不是字符串，<strong>别用引号</strong></p>
</li>
</ul>
<ul>
<li><p><strong>test方法</strong></p>
<p>正则对象.test(string);             用来校验字符串是否匹配正则。</p>
<p>全部字符匹配返回true；有字符不匹配返回false</p>
</li>
<li><p><strong>正则对象使用注意事项</strong></p>
<p>/^表达式$/         只要有无法成立正则的字符存在，即为false。</p>
<p><strong>全部符合为true</strong></p>
<p>（检查严格，眼睛不揉沙子）适用于表单校验</p>
</li>
</ul>
<p>  /表达式/       只要有成立正则的字符存在，即为true。</p>
<p>  <strong>全部不符合为false</strong></p>
<p>  （检查不严格，懒人思想）适用于字符串查找、替换</p>
<h3 id="2-5-JS数组对象"><a href="#2-5-JS数组对象" class="headerlink" title="2.5 JS数组对象"></a>2.5 JS数组对象</h3><ul>
<li><p><strong>JS数组的特性</strong></p>
<p>JS数组可以看做 Java中的ArrayList 集合。</p>
<ul>
<li><p>数组中的每一个成员没有类型限制，及可以存放任意类型</p>
</li>
<li><p>数组的长度可以自动修改 </p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>JS数组的四种创建方式</strong></p>
<ul>
<li><p>var arr = [1,2,3,”a”,true]; //常用的JS数组。 长度5</p>
</li>
<li><p>var arr = new Array();创建一个数组对象，数组长度默认为0</p>
<p> //数组长度是4，相当于开辟了长度为4的空间，每个元素是undefined。（仅在显示数组时进行处理，undefined为了方便显示变成了空字符串形式，其值本质仍然是undefined）</p>
</li>
<li><p>var arr = new Array(4);</p>
</li>
<li><p>var arr = new Array(“a”,”b”,true);  //创建了一个数组，长度3,       数组元素是”a”,”b”,true</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>JS数组的常用属性/方法</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559008760061.png" alt="1559008760061"></p>
</li>
</ul>
<h3 id="2-6-全局函数（global）"><a href="#2-6-全局函数（global）" class="headerlink" title="2.6 全局函数（global）"></a>2.6 全局函数（global）</h3><ul>
<li><p><strong>执行</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559197075599.png" alt="1559197075599"></p>
<p>作用：用于增强程序的扩展性。</p>
<p>注：只可以传递原始数据类型string，传递String对象无作用。</p>
</li>
<li><p><strong>编码和解码</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559197121787.png" alt="1559197121787"></p>
<p>URL/URI编码：中文及特殊符号   %16进制</p>
<p>作用：保证数据传递的完整性。</p>
</li>
<li><p><strong>URI和URL的区别</strong></p>
<p>URI是统一资源标识符。  标识资源详细名称。<br>URL是统一资源定位器。 定位资源的网络位置。</p>
</li>
</ul>
<p>  资源：可以通过浏览器访问的信息统统称为资源。（图片、文本、HTML、CSS等等。。。。）</p>
<p>  URI标识资源的详细名称，包含资源名。<br>  URL定位资源的网络位置。包含http://</p>
<ul>
<li><p><strong>字符串转数字</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559197206138.png" alt="1559197206138"></p>
<p>parseInt(string);        string按照字面值转换为整数类型，小数点后面部分不关注。</p>
<p>parseFloat(string);        string按照字面值转换为小数类型。</p>
<p><strong>注：</strong><br>    如果字符串的某个字符从字面值上无法转为数字，那么从该字符开始停止转换，仅返回前面正确的转换值。（例如：11.5a55，parseInt结果11，parseFloat结果11.5）</p>
<p>    如果字符串的第一个字符就无法从字面值上转为数字，那么停止转换，返回NaN<br>NaN（Not A Number，一个数字类型的标识，表示不是一个正确的数字）</p>
</li>
</ul>
<h3 id="2-7-自定义函数-自定义方法"><a href="#2-7-自定义函数-自定义方法" class="headerlink" title="2.7 自定义函数/自定义方法"></a>2.7 自定义函数/自定义方法</h3><ul>
<li><p><strong>函数简述及作用</strong></p>
<p>如果一段代码需要被重复编写使用，那么我们为了方便统一编写使用，可以将其封装进一个函数（方法）中。</p>
</li>
</ul>
<p>​       作用：增强代码的复用性</p>
<ul>
<li><p><strong>函数格式</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559197330842.png" alt="1559197330842"></p>
<p>    JavaScript函数定义必须用小写的function；<br>    JavaScript函数无需定义返回值类型，直接在function后面书写 方法名；<br>    <strong>参数的定义无需使用var关键字，否则报错；</strong><br>    JavaScript函数体中，return可以不写，也可以return 具体值，或者仅仅写return；</p>
</li>
<li><p><strong>函数使用的注意事项</strong></p>
<ul>
<li><p>JavaScript函数调用执行完毕一定有返回值，值及类型根据return决定，如果未return具体值，返回值为undefined；</p>
</li>
<li><p>JavaScript函数若同名，则不存在方法重载，只有方法相互覆盖，最后定义的函数覆盖之前的定义；</p>
</li>
<li><p>因为JavaScript不存在函数重载，所以JavaScript仅根据方法名来调用函数，即使实参与函数的形参不匹配，也不会影响正常调用；</p>
</li>
<li><p>如果形参未赋值，就使用默认值undefined</p>
<hr>
</li>
</ul>
</li>
</ul>
<h3 id="2-8-自定义对象"><a href="#2-8-自定义对象" class="headerlink" title="2.8 自定义对象"></a>2.8 自定义对象</h3><ul>
<li><p><strong>function构造函数</strong></p>
<p>我们知道，JavaScript中的引用数据类型都是对象，而对象在JavaScript中可以用函数来表示。</p>
<p>相当于java中创建某个class类</p>
</li>
</ul>
<p>​    <strong>无形参格式：</strong></p>
<p>​         function 对象名(){</p>
<p>​         函数体</p>
<p>}</p>
<p>​    <strong>带参数格式：</strong></p>
<p>​         function 对象名(参数列表){</p>
<p>​         函数体</p>
<p>}</p>
<p>​    <strong>带参数格式：</strong></p>
<p>​         function 对象名(参数列表){</p>
<p>​         函数体</p>
<p>}</p>
<ul>
<li><p><strong>对象直接量</strong></p>
<p>开发中可以用一种简单的方式直接创建自定义的JavaScript对象，这种方式称为“对象直接量”。</p>
<p>格式：</p>
<p>​         var 对象名 = {属性名1:”属性值1”, 属性名2:”属性值2”, 属性名3:”属性值3”……};</p>
<p>注：该方式直接创建出实例对象，无需构建函数，无需再new创建实例对象，直接使用即可</p>
<ul>
<li>应用场景：适用于快速创建实例对象及数据封装。</li>
</ul>
</li>
</ul>
<h2 id="3-BOM对象"><a href="#3-BOM对象" class="headerlink" title="3.BOM对象"></a>3.BOM对象</h2><h3 id="3-1-BOM对象是什么"><a href="#3-1-BOM对象是什么" class="headerlink" title="3.1 BOM对象是什么?"></a>3.1 BOM对象是什么?</h3><p>BOM（Browser Object Model）浏览器对象模型<br>浏览器：IE、火狐、谷歌等<br>作用：用来执行浏览器的相关操作。（例如：浏览器的地址、弹出消息等）</p>
<p>  一般情况下，window代表了BOM对象。<br>  window对象是JavaScript的内置对象，使用window对象调用方法时可以省略window不写。</p>
<h3 id="3-2-消息框"><a href="#3-2-消息框" class="headerlink" title="3.2 消息框"></a>3.2 消息框</h3><ul>
<li><p><strong>alert()</strong></p>
<p>警告框，用来弹出警告消息。</p>
<p>示例：<img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559197942636.png" alt="1559197942636"></p>
</li>
<li><p><strong>confirm()</strong></p>
<p>确认框，用于告知用户信息并收集用户的选择</p>
<p>示例1：<img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559197995756.png" alt="1559197995756"></p>
<p>该方法有返回值，用户通过选择“确定”或者“取消”，方法结束会返回boolean类型的值。<br>    “确定”返回ture；<br>    “取消”返回false；</p>
</li>
</ul>
<h3 id="3-3-定时器"><a href="#3-3-定时器" class="headerlink" title="3.3 定时器"></a>3.3 定时器</h3><ul>
<li><p>循环定时器的设置和取消</p>
<p>循环定时器，调用一次就会创建并循环执行一个定时器。</p>
<p>格式：</p>
<pre><code>setInterval(调用方法,毫秒值);
//毫秒值：  循环周期</code></pre><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559219537070.png" alt="1559219537070"></p>
</li>
<li><h5 id="停止循环定时器-clearInterval"><a href="#停止循环定时器-clearInterval" class="headerlink" title="停止循环定时器-clearInterval()"></a>停止循环定时器-clearInterval()</h5><p>setInterval方法在创建一个定时器的同时，还会返回一个的定时器的ID，该ID就代表这个定时器。<br>此定时器ID在当前页面是不重复的。</p>
<p>我们可以通过clearInterval方法，指定某个循环定时器 停止</p>
<p>格式：</p>
<pre><code>clearInterval(定时器ID);</code></pre><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559219577272.png" alt="1559219577272"></p>
</li>
<li><p><strong>启动一次性定时器-setTimeout()</strong></p>
<p>一次性定时器，调用一次就会创建并执行一个定时器一次。</p>
<p>格式：</p>
<pre><code>setTimeout(调用方法,毫秒值);</code></pre></li>
</ul>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559219613582.png" alt="1559219613582"></p>
<ul>
<li><p><strong>停止一次性定时器clearTimeout()</strong></p>
<p>setTimeout方法在创建一个定时器的同时，还会返回一个的定时器的ID，该ID就代表这个定时器。<br>此定时器ID在当前页面是不重复的。</p>
<p>我们可以通过clearTimeout方法，指定某个一次性定时器 停止</p>
<p>格式：</p>
<pre><code>clearTimeout (定时器ID);</code></pre></li>
</ul>
<h3 id="3-4-location对象"><a href="#3-4-location对象" class="headerlink" title="3.4 location对象"></a>3.4 location对象</h3><p>location 对象包含浏览器 地址栏 的信息。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559219686484.png" alt="1559219686484"></p>
<p>设置href属性，浏览器就会跳转到对应的路径</p>
<h2 id="4-DOM对象"><a href="#4-DOM对象" class="headerlink" title="4.DOM对象"></a>4.DOM对象</h2><h3 id="4-1-DOM对象是什么？"><a href="#4-1-DOM对象是什么？" class="headerlink" title="4.1 DOM对象是什么？"></a>4.1 DOM对象是什么？</h3><p>DOM（Document Object Model） 文档对象模型<br> 文档：标记型文档（HTML等）</p>
<p>DOM是将标记型文档中所有内容（标签、文本、属性）都封装成对象，</p>
<p>通过操作对象的属性或者方法，来达到操作或者改变HTML展示效果的目的</p>
<h3 id="4-2-DOM树介绍"><a href="#4-2-DOM树介绍" class="headerlink" title="4.2 DOM树介绍"></a>4.2 DOM树介绍</h3><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559219755135.png" alt="1559219755135"></p>
<p>上述HTML文档会被浏览器 由上到下依次 加载并解析。</p>
<p>加载到浏览器的内存,加载并解析到内存中，会生成一张DOM树</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559219777852.png" alt="1559219777852"></p>
<p>其中：</p>
<p>l  每个标签会被加载成 DOM树上的一个元素节点对象。</p>
<p>l  每个标签的属性会被加载成DOM树上的一个属性节点对象</p>
<p>l  每个标签的内容体会被加载成DOM树上的一个文本节点对象</p>
<p>l  整个DOM树，是一个文档节点对象，即DOM对象。</p>
<p>l  一个HTML文档加载到内存中就会形成一个DOM对象</p>
<p>DOM树的特点：</p>
<p>l  必定会有一个根节点</p>
<p>l  每个节点都是节点对象</p>
<p>l  常见的节点关系：<strong>父子节点关系</strong></p>
<p>l  文本节点对象没有子节点---叶子节点</p>
<p>l  每个节点都有<strong>一个父节点，零到多个子节点</strong></p>
<p>l  <strong>只有根节点没有父节点</strong></p>
<h3 id="4-3-获取元素对象的四种方式"><a href="#4-3-获取元素对象的四种方式" class="headerlink" title="4.3 获取元素对象的四种方式"></a>4.3 获取元素对象的四种方式</h3><p>在JavaScript中，我们可以通过DOM对象的4种方式获取对应的元素对象：<br>    getElementById();   ---通过元素ID获取对应元素对象<br>可以通过ID获取对应的元素对象，如果找不到，返回null</p>
<p>    getElementsByName();   ---通过元素的name属性获取符合要求的所有元素<br>    getElementsByTagName();   ---通过元素的元素名属性获取符合要求的所有元素<br>    getElementsByClassName();   ---通过元素的class属性获取符合要求的所有元素<br>可以获取到元素节点对象 数组；如果找不到，返回 空数组</p>
<p>注：获取某个/某些元素节点对象，必须保证元素节点对象被先加载到内存中</p>
<h3 id="4-4-元素对象常见属性"><a href="#4-4-元素对象常见属性" class="headerlink" title="4.4 元素对象常见属性"></a>4.4 元素对象常见属性</h3><ul>
<li><p>value</p>
<p>元素对象.value， 获取元素对象的value属性值。<br>元素对象.value=属性值     设置元素对象的value属性值。</p>
<p>修改元素的值</p>
</li>
<li><p>className</p>
<p>元素对象.className， 获取元素对象的class属性值。<br>元素对象. className =属性值     设置元素对象的class属性值。</p>
<p>修改元素样式</p>
</li>
<li><p>checked</p>
<p>元素对象.checked， 获取元素对象的checked属性值。<br>元素对象. checked =属性值     设置元素对象的checked属性值。</p>
<p>注：HTML中checked=”checked”，JavaScript中返回true，false</p>
<p>修改单选/复选的 选中与否</p>
</li>
<li><p>innerHTM元素对象.innerHTML，  获取元素对象的内容体<br>元素对象.innerHTML=值     设置元素对象的内容体</p>
<p>操作元素的内容体L</p>
</li>
</ul>
<h2 id="5-JS事件"><a href="#5-JS事件" class="headerlink" title="5. JS事件"></a>5. JS事件</h2><h3 id="5-1-JS事件是什么"><a href="#5-1-JS事件是什么" class="headerlink" title="5.1 JS事件是什么"></a>5.1 JS事件是什么</h3><p>通常鼠标或热键的动作我们称之为事件(Event) </p>
<p>事件包括：点击、表单提交、值发生改变、鼠标移入、鼠标移出等等</p>
<p>通过JS事件，我们可以完成页面的指定特效。</p>
<h3 id="5-2-JS事件驱动机制简述"><a href="#5-2-JS事件驱动机制简述" class="headerlink" title="5.2 JS事件驱动机制简述"></a>5.2 JS事件驱动机制简述</h3><p>页面上的特效，我们可以理解在JS事件驱动机制下进行。<br>    JS事件驱动机制：</p>
<p>​                警察抓小偷</p>
<p>    事件源        小偷<br>    事件        偷东西<br>    监听器        警察<br>    注册/绑定监听器        让警察时刻盯着小偷</p>
<p>事件源：专门产生事件的组件。</p>
<p>事件：由事件源所产生的动作或者事情。</p>
<p>监听器：专门处理 事件源 所产生的事件。</p>
<p>注册/绑定监听器：让监听器时刻监听事件源是否有指定事件产生，如果事件源产生指定事件，则调用监听器处理。</p>
<h3 id="5-3-常见的JS事件"><a href="#5-3-常见的JS事件" class="headerlink" title="5.3 常见的JS事件"></a>5.3 常见的JS事件</h3><ul>
<li><p><strong>点击事件（onclick）</strong></p>
<p>点击事件：由鼠标或热键点击元素组件时触发</p>
<p>示例：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220084943.png" alt="1559220084943"></p>
</li>
<li><p><strong>焦点事件（onblur、onfoucs）</strong></p>
<ul>
<li><p><strong>失去焦点事件（onblur）</strong></p>
<p>焦点：即整个页面的注意力。</p>
<p>默认一个正常页面最多仅有一个焦点。</p>
</li>
</ul>
</li>
</ul>
<pre><code>例如：文本框中闪烁的小竖线。

​    ![1559220128716](D:\typora笔记\Typora图片\1559220128716.png)                                              

通常焦点也能反映出用户目前的关注点，或者正在操作的组件。

获取焦点事件：当元素组件获取焦点时触发

示例:![1559220154392](D:\typora笔记\Typora图片\1559220154392.png)</code></pre><ul>
<li><p><strong>失去焦点事件（onblur）</strong></p>
<p>失去焦点事件：元素组件失去焦点时触发</p>
<p>示例：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220188706.png" alt="1559220188706"></p>
</li>
</ul>
<ul>
<li><p><strong>域内容改变事件（onchange）</strong></p>
<p>域内容改变事件： 元素组件的值发生改变时触发</p>
<p>示例：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220216926.png" alt="1559220216926"></p>
</li>
<li><p><strong>加载完毕事件（onload）</strong></p>
<p>加载完毕事件：元素组件加载完毕时触发。</p>
<p>示例：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220255837.png" alt="1559220255837"></p>
</li>
<li><p><strong>表单提交事件（onsubmit）</strong></p>
<p><strong>(必须绑定form标签 而不是submit标签)</strong></p>
<p>表单提交事件：<strong>表单的提交按钮被点击时</strong>触发</p>
</li>
</ul>
<p>  注意：该事件需要返回boolean类型的值来执行 提交/阻止 表单数据的操作。</p>
<p>  l  事件得到true，提交表单数据</p>
<p>  l  事件得到false，阻止表单数据提交</p>
<p>  示例:</p>
<p>  <img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220336272.png" alt="1559220336272"></p>
<ul>
<li><p><strong>键位弹起事件（onkeyup）</strong></p>
<p>键位弹起事件：在组件中输入某些内容时，键盘键位弹起时触发该事件</p>
<p>示例：</p>
</li>
</ul>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220372534.png" alt="1559220372534"></p>
<ul>
<li><p><strong>常用鼠标事件</strong></p>
<ul>
<li><p><strong>鼠</strong>鼠标移入事件：鼠标移入某个元素组件时触发</p>
<p>示例：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220425424.png" alt="1559220425424"></p>
</li>
<li><p><strong>鼠标移出事件（onmouseout）</strong></p>
<p>鼠标移出事件：鼠标移出某元素时触发</p>
<p>示例：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220452288.png" alt="1559220452288"></p>
</li>
</ul>
</li>
</ul>
<h3 id="5-4-JS事件的两种绑定方式"><a href="#5-4-JS事件的两种绑定方式" class="headerlink" title="5.4 JS事件的两种绑定方式"></a>5.4 JS事件的两种绑定方式</h3><ul>
<li><p><strong>元素事件句柄绑定</strong></p>
<p>将事件以元素属性的方式写到标签内部，进而绑定对应函数。</p>
<p>示例1：【为事件绑定一个无参函数】</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220500712.png" alt="1559220500712"></p>
<p>示例2：【为事件绑定一个有参函数】</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220524481.png" alt="1559220524481"></p>
<p>示例3：【为事件绑定一个有参函数-this】</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220538031.png" alt="1559220538031"></p>
<p>示例4：【为事件绑定多个函数】</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220550332.png" alt="1559220550332"></p>
<p>事件句柄绑定方式-</p>
<p>​                  优点：①开发快捷</p>
<p>​                            ②传参方便</p>
<p>​                            ③可以绑定多个函数</p>
<p>​                  缺点：JS和HTML代码高度糅合在一起，不利于多部门的项目开发维护</p>
</li>
<li><p><strong>DOM绑定方式</strong></p>
<p>使用DOM的属性方式绑定事件。</p>
<p>示例1：【将下述绑定转为DOM方式绑定】</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220609168.png" alt="1559220609168"></p>
<p>示例2：【使用DOM绑定方式，为文本框onclick事件绑定run1方法】</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559220628475.png" alt="1559220628475"></p>
<p>DOM绑定方式-</p>
<p>​              优点：使得HTML代码和JS代码完全分离</p>
<p>​              缺点：①不能传递参数。    解决：匿名函数是可以的</p>
<p>​                         ②一个事件只能绑定一个函数    解决：匿名函数内部是可以绑定多个函数。</p>
</li>
</ul>
</li></ul>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/JavaScript学习笔记/" data-id="cjycogqie0001vo7ksup5b7ti" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-JavaWeb学习笔记01" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/JavaWeb学习笔记01/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:06:31.923Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/JavaWeb学习笔记01/">JavaWEB学习笔记</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><h2 id="1-Servlet"><a href="#1-Servlet" class="headerlink" title="1. Servlet"></a>1. Servlet</h2><h3 id="1-1-Servlet的生命周期"><a href="#1-1-Servlet的生命周期" class="headerlink" title="1.1  Servlet的生命周期"></a>1.1  Servlet的生命周期</h3><ul>
<li><p><strong>什么是生命周期??</strong></p>
<p>生命周期:一个对象从创建到销毁的全过程.</p>
</li>
<li><p><strong>Servlet的生命周期</strong></p>
<p>Servlet是在第一次被访问的时候会被实例化。只要Servlet一被实例化那么Servlet中的init方法就会执行(<strong>init只会执行一次</strong>)。任何一次从客户端发送来的请求，那么Servlet中的service方法就会执行（在service方法的内部根据请求的方式不同调用不同的doxxx方法）。当Servlet从服务器中移除或服务器关闭时Servlet对象被销毁，里面的destroy方法就会执行，然后垃圾回收器就会将其回收掉。</p>
</li>
</ul>
<h3 id="1-2-Servlet启动时加载"><a href="#1-2-Servlet启动时加载" class="headerlink" title="1.2  Servlet启动时加载"></a>1.2  Servlet启动时加载</h3><ul>
<li><p><strong>为什么使用启动时加载</strong></p>
<p>Servlet对象是第一次被访问的时候会被创建的，init方法就会执行。假设在init方法中做了一些比较耗时的操作（比如：加载了一些配置文件并且解析可能需要花费3秒钟）。第一个用户第一次访问这个Servlet的时候，需要等待3秒钟。<strong>如何使第一个用户在第一次访问的时候不需要花费这么长时间？</strong></p>
<p>配置启动时加载： 在web.html中Servlet配置下设置<load-on-startup>2(数字越小优先级别越高)</load-on-startup></p>
<p>service.xml中有设置一个默认的servlet，它的启动时加载的优先级别为1.因此我们在设置启动时加载的优先级别从2开始。</p>
</li>
</ul>
<h3 id="1-3-Servlet路径配置"><a href="#1-3-Servlet路径配置" class="headerlink" title="1.3 Servlet路径配置"></a>1.3 Servlet路径配置</h3><ul>
<li><p>全路径匹配</p>
<p>以/开始      比如：/ServletDemo1   /aaa/ServletDemo2</p>
</li>
<li><p>目录匹配</p>
<p>以 / 开始，以 /<em>结束        比如：/</em>        /aaa/*    /aaa/bbb/*</p>
</li>
<li><p>扩展名匹配</p>
<p>不能以 / 开始，以<em>开始             比如：</em>.action       *.do          *.jsp</p>
</li>
</ul>
<p><strong>访问的优先级别：完全路径匹配  &gt;  目录匹配  &gt;  扩展名匹配</strong></p>
<h3 id="1-4-ServletConfig对象"><a href="#1-4-ServletConfig对象" class="headerlink" title="1.4 ServletConfig对象"></a>1.4 ServletConfig对象</h3><p>​    ServletConfig用来获得Servlet的相关的配置的对象。</p>
<ul>
<li><p>获得ServletConfig对象</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559478153850.jpg" alt="img"></p>
</li>
<li><p>ServletConfig对象的API</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559478193250.jpg" alt="img"></p>
<p>    获得Servlet的初始化参数 getInitParameter（String name）</p>
<p>​                                                    getInitParameterNames()</p>
<p>    获得ServletContext对象    getServletContext()</p>
<p>    获得Servlet的名称                getServletName()</p>
</li>
<li><p>配置初始化参数</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559478471685.png" alt="1559478471685"></p>
</li>
</ul>
<h3 id="1-5-ServletContext对象"><a href="#1-5-ServletContext对象" class="headerlink" title="1.5 ServletContext对象"></a>1.5 ServletContext对象</h3><ul>
<li><h4 id="什么是ServletContext"><a href="#什么是ServletContext" class="headerlink" title="什么是ServletContext"></a>什么是ServletContext</h4><p>ServletContext：Servlet的上下文对象。ServletContext对象对Servlet之前和之后的内容都知道。这个对象一个web项目只有一个。在服务器启动的时候为每个web项目创建一个单独的ServletContext对象。</p>
</li>
<li><p><strong>ServletContext获取工程信息</strong></p>
<p>因为一个web项目只有一个ServletContext对象，所以这个对象对整个项目的相关内容都是了解的。</p>
<ul>
<li><p>获取文件的MIME类型：getMimeType(String File)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559478587809.jpg" alt="img"></p>
</li>
<li><p>获取web项目请求工程名：getContextPath()</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559478963129.jpg" alt="img"></p>
</li>
<li><p>获取web项目的初始化参数：getInitParameter(String name)</p>
<p>​                                                 getInitParameterNames()</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559479022812.jpg" alt="img"></p>
</li>
</ul>
</li>
<li><p>配置全局初始化参数</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559479154836.png" alt="1559479154836"></p>
</li>
<li><p><strong>Servlet对象读取web项目下的文件</strong></p>
<p>之前使用IO流就可以读取文件（java项目中）。现在是一个web项目，web项目需要发布到tomcat下才能访问的。获取web项目下的文件如果使用传统的IO就会出现问题（原因：路径中使用的是相对路径，相对的是JRE环境）。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559479472885.png" alt="1559479472885"></p>
<p>getServletContext()   –&gt; 获取ServletContext对象</p>
<p>方法一：通过ServletContext的getResourceAsStream（“路径”）方法获取输出流</p>
<p>方法二： 通过ServletContext的getRealPath（“路径”）方法获得文件的真正路径</p>
</li>
</ul>
<hr>
<ul>
<li><p><strong>ServletContext作为域对象</strong></p>
<p>域对象:指的是将数据存入到域对象中，这个数据就会有一定的作用范围。域指的是一定的作用范围。</p>
<ul>
<li><p>ServletContext是在服务器启动的时候为每个web项目单独创建一个ServletContext对象。当web项目从服务器中移除，或者是关闭服务器的时候ServletContext对象会被销毁。向ServletContext中保存的数据一直存在（当服务器关闭的时候ServletContext对象被销毁，然后里面数据才会失效）。<strong>范围：整个web应用。</strong></p>
</li>
<li><p>ServletContext作为域对象的API</p>
<p>存入数据的方法：setAttribute(String name, Object value)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559479924151.jpg" alt="img"></p>
</li>
<li><p>获取数据的方法： getAttribute(String name)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559479965085.jpg" alt="img"></p>
</li>
<li><p>移除数据的方法: removeAttribute(Steing name)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559480008166.jpg" alt="img"></p>
</li>
</ul>
</li>
</ul>
<h2 id="2-Response对象"><a href="#2-Response对象" class="headerlink" title="2.Response对象"></a>2.Response对象</h2><h3 id="2-1-什么是Response"><a href="#2-1-什么是Response" class="headerlink" title="2.1 什么是Response"></a>2.1 什么是Response</h3><p>​        开发的软件是B/S结构的软件，可以通过浏览器访问服务器的软件。从浏览器输入一个地址访问服务器（将这个过程称为是请求）。服务器接收到请求，需要进行处理，处理以后需要将处理结果显示回浏览器端（将这个过程称为是响应）。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559480138009.jpg" alt="img"></p>
<h3 id="2-2-Response对象的API"><a href="#2-2-Response对象的API" class="headerlink" title="2.2 Response对象的API"></a>2.2 Response对象的API</h3><ul>
<li><p><strong>Response关于相应行的方法</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559480209583.jpg" alt="img"></p>
<p>setStatus（int sc）</p>
<p>响应码：</p>
<p>    200 正确<br>    302 重定向<br>    304 查找本地缓存<br>    404 请求资源不存在<br>    500 服务器内部错误</p>
</li>
<li><p><strong>Response关于响应头的方法</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559480659441.jpg" alt="img"></p>
<p>set开头的方法:针对一个key对应一个value的情况.</p>
<p>    举例：比如有一个头 content-Type:text/html  setHeader(“content-Type”,”text/plain”);<br>    最终得到头的结果：content-Type:text/plain</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559480745878.jpg" alt="img"></p>
<p>add开头的方法:针对一个key对应多个value的情况。</p>
</li>
</ul>
<p>    举例：比如有一个content-Type:text/html      addHeader(“content-Type”,”text/plain”);<br>    最终得到头的结果：content-Type:text/html,text/plain</p>
<ul>
<li><p><strong>Response关于响应体的方法</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559481072416.jpg" alt="img"></p>
<p>获得输出流</p>
</li>
<li><p><strong>Response其他的API</strong></p>
<ul>
<li><p>重定向的方法  sendRedirect(String Location)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559481179748.jpg" alt="img"></p>
</li>
<li><p>设置浏览器打开页面时候采用的字符集  setContentType(String type)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559481254972.jpg" alt="img"></p>
</li>
<li><p>设置响应字符流的缓冲区字符集 setCharacterEncoding(String charset)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559481357432.jpg" alt="img"></p>
</li>
<li><p>服务器向浏览器回写Cookie的方法 addCookies(Cookies cookies)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559481400089.jpg" alt="img"></p>
</li>
</ul>
</li>
</ul>
<h3 id="2-3-Response对象API的代码实现"><a href="#2-3-Response对象API的代码实现" class="headerlink" title="2.3 Response对象API的代码实现"></a>2.3 Response对象API的代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResponseDemo02</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		System.out.println(<span class="number">1</span>);</span><br><span class="line">		<span class="comment">//重定向</span></span><br><span class="line">		<span class="comment">//设置状态码</span></span><br><span class="line">		response.setStatus(<span class="number">302</span>);</span><br><span class="line">		<span class="comment">//设置重定向地址</span></span><br><span class="line">		response.setHeader(<span class="string">"Location"</span>, <span class="string">"/web01/HelloServlet"</span>);</span><br><span class="line">		<span class="comment">//重定向的常用方法</span></span><br><span class="line">		response.sendRedirect(<span class="string">"/web01/HelloServlet02"</span>);</span><br><span class="line">		<span class="comment">//定时刷新</span></span><br><span class="line">		response.setHeader(<span class="string">"Refresh"</span>, <span class="string">"5;url=/web01/HelloServlet03"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-4-Response对象响应的中文乱码处理"><a href="#2-4-Response对象响应的中文乱码处理" class="headerlink" title="2.4 Response对象响应的中文乱码处理"></a>2.4 Response对象响应的中文乱码处理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字节流输出中文(乱码是由于字节流bytes数组编码格式和浏览器默认的编码格式不一致)</span></span><br><span class="line">		<span class="comment">// 设置浏览器的默认编码格式</span></span><br><span class="line">		response.setHeader(<span class="string">"Content-Type"</span>, <span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">		<span class="comment">// 设置bytes数组的编码格式</span></span><br><span class="line">		<span class="keyword">byte</span>[] bytes = <span class="string">"中文"</span>.getBytes(<span class="string">"UTF-8"</span>);</span><br><span class="line">		response.getOutputStream().write(bytes);</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 字符流输出中文(乱码是由于浏览器的缓冲区的默认编码格式为"ISO-8859-1",该编码不支持中文)</span></span><br><span class="line">		<span class="comment">// 修改缓冲区编码格式</span></span><br><span class="line">		<span class="comment">// response.setCharacterEncoding("UTF-8");</span></span><br><span class="line">		<span class="comment">// // 修改浏览器默认编码格式</span></span><br><span class="line">		<span class="comment">// response.setHeader("Content-Type", "text/html;charset=UTF-8");</span></span><br><span class="line">		<span class="comment">//简便方法</span></span><br><span class="line">		response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">		response.getWriter().println(<span class="string">"中文"</span>);</span><br></pre></td></tr></table></figure>

<h2 id="3-Request对象"><a href="#3-Request对象" class="headerlink" title="3. Request对象"></a>3. Request对象</h2><h3 id="3-1-什么是Request对象"><a href="#3-1-什么是Request对象" class="headerlink" title="3.1 什么是Request对象"></a>3.1 什么是Request对象</h3><p>​    开发的软件都是B/S结构软件，从浏览器向服务器提交一些数据，将这些内容进行封装就封装成了一个请求对象（Request对象）。</p>
<h3 id="3-2-Request对象的API"><a href="#3-2-Request对象的API" class="headerlink" title="3.2  Request对象的API"></a>3.2  Request对象的API</h3><p><strong>获得客户机信息</strong></p>
<ul>
<li>获取请求方式   getMethod()</li>
<li>获取请求路径后的提交参数的字符串   getQueryString()</li>
<li>获得请求路径的URL和URI<ul>
<li>getRequestURI</li>
<li>getRequestURL</li>
</ul>
</li>
<li>获得客户机的IP的方法      getRemoteAddr()</li>
</ul>
<p><strong>获得请求头的方法</strong></p>
<ul>
<li>获得一个key对应一个value的请求头    getHeader(String name)</li>
<li>获得一个key对应多个value的请求头     getHeaders(String name)</li>
</ul>
<p><strong>获得请求参数的方法</strong></p>
<ul>
<li><p>获得提交的参数(一个name对应一个key)             getParameter(String name)</p>
</li>
<li><p>获得提交的参数(一个name对应多个key)             getParameterValues(String name)</p>
</li>
<li><p>获得提交的参数,将提交的参数的名称和对应的值存进一个Map集合中</p>
<p>getParameterMap()</p>
</li>
</ul>
<p><strong>Resquest作为域对象存取数据的方法</strong>(域作用)范围为本次请求响应)</p>
<ul>
<li>从request域中存数据        addAtrribute(String name, Object o)</li>
<li>从request域中获取数据      getAttribute(String name)</li>
<li>从request域中移除数据       removeAtrribute(String name)</li>
</ul>
<p><strong>request作为域对象的作用范围:</strong></p>
<p>Request对象其实就是从客户端浏览器向服务器发送的一次请求信息的封装。那么实质上向Request中所保存的数据有效期也是<strong>一次请求范围</strong>。</p>
<p><strong>一次请求范围</strong>：从客户端浏览器向服务器发送一次请求，服务器针对这次请求对浏览器作出响应。当服务器作出响应之后，请求对象就销毁了，保存在其中的数据就无效了。</p>
<h3 id="3-3-Request对象API的代码实现"><a href="#3-3-Request对象API的代码实现" class="headerlink" title="3.3 Request对象API的代码实现"></a>3.3 Request对象API的代码实现</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取请求方法</span></span><br><span class="line">		String method = request.getMethod();</span><br><span class="line">		System.out.println(method);</span><br><span class="line">		<span class="comment">//获取客户机ip</span></span><br><span class="line">		String ip = request.getRemoteAddr();</span><br><span class="line">		System.out.println(ip);</span><br><span class="line">		<span class="comment">//获取请求参数的字符串</span></span><br><span class="line">		String queryString = request.getQueryString();</span><br><span class="line">		System.out.println(queryString);</span><br><span class="line">		<span class="comment">//获取请求路径的URL和URI</span></span><br><span class="line">		StringBuffer url = request.getRequestURL();</span><br><span class="line">		System.out.println(<span class="string">"URL---"</span> + url);</span><br><span class="line">		String uri = request.getRequestURI();</span><br><span class="line">		<span class="comment">//获取用户浏览器信息</span></span><br><span class="line">		System.out.println(<span class="string">"URI---"</span> + uri);</span><br><span class="line">		System.out.println(request.getHeader(<span class="string">"User-Agent"</span>));</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Enumeration;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RequestDemo01</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">			HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		<span class="comment">// 通过request.getParameter(name)获取request请求中的参数</span></span><br><span class="line">		<span class="comment">// String username = request.getParameter("username");</span></span><br><span class="line">		<span class="comment">// String password = request.getParameter("password");</span></span><br><span class="line">		<span class="comment">// String sex = request.getParameter("sex");</span></span><br><span class="line">		<span class="comment">// String city = request.getParameter("city");</span></span><br><span class="line">		<span class="comment">// String[] hobby = request.getParameterValues("hobby");</span></span><br><span class="line">		<span class="comment">// String info = request.getParameter("info");</span></span><br><span class="line">		<span class="comment">// System.out.println(username);</span></span><br><span class="line">		<span class="comment">// System.out.println(password);</span></span><br><span class="line">		<span class="comment">// System.out.println(sex);</span></span><br><span class="line">		<span class="comment">// System.out.println(city);</span></span><br><span class="line">		<span class="comment">// System.out.println(Arrays.toString(hobby));</span></span><br><span class="line">		<span class="comment">// System.out.println(info);</span></span><br><span class="line">		<span class="comment">// 通过request.getParameterNames()方法获取request中的参数</span></span><br><span class="line">		<span class="comment">// 此方法适用于一个key对应一个value的情况</span></span><br><span class="line">		<span class="comment">// Enumeration&lt;String&gt; names = request.getParameterNames();</span></span><br><span class="line">		<span class="comment">// while (names.hasMoreElements()) &#123;</span></span><br><span class="line">		<span class="comment">// String name = names.nextElement();</span></span><br><span class="line">		<span class="comment">// String value = request.getParameter(name);</span></span><br><span class="line">		<span class="comment">// System.out.println(name + "---" + value);</span></span><br><span class="line">		<span class="comment">// &#125;</span></span><br><span class="line">		<span class="comment">// 通过request.getParameterMap()来获取request的参数</span></span><br><span class="line">		Map&lt;String, String[]&gt; map = request.getParameterMap();</span><br><span class="line">		<span class="keyword">for</span> (String key : map.keySet()) &#123;</span><br><span class="line">			String[] value = map.get(key);</span><br><span class="line">			<span class="keyword">if</span> (value.length == <span class="number">1</span>) &#123;</span><br><span class="line">				System.out.println(key + <span class="string">"---"</span> + value[<span class="number">0</span>]);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				System.out.println(key + <span class="string">"---"</span> + Arrays.toString(value));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">			HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-4-Request对象接收表单请求参数的中文乱码处理"><a href="#3-4-Request对象接收表单请求参数的中文乱码处理" class="headerlink" title="3.4 Request对象接收表单请求参数的中文乱码处理"></a>3.4 Request对象接收表单请求参数的中文乱码处理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//post提交方式,请求参数中文乱码是由于post的请求参数是从请求体中拿到缓冲区中,而缓冲区的默认编码格式为ISO-8859-1,需设置缓冲区的编码格式</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">			HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		request.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">		String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">		System.out.println(username);</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>//get提交方式,请求参数中文乱码是由于get的请求数据是先通过UTF-8的Url编码变成%十六进制的形式拼接在请求行,再存储在缓冲区,缓冲区的默认编码格式为ISO-8859-1.为了将参数转换成中文提取出,需要先以ISO-8859-1的编码格式从缓存区中取出数据,再把数据进行UTF-8的解码,解析成中文</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">String name = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// String encode = URLEncoder.encode(name, "ISO-8859-1");</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// String decode = URLDecoder.decode(encode, "UTF-8");</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// System.out.println(decode);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//常用方法</span></span><br><span class="line"></span><br><span class="line">String username = <span class="keyword">new</span> String(name.getBytes(<span class="string">"ISO-8859-1"</span>), <span class="string">"UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(username);</span><br><span class="line">           </span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/JavaWeb学习笔记01/" data-id="cjycogqhv0000vo7k75o9l853" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-JDBC高级" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/JDBC高级/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:06:14.182Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/JDBC高级/">JDBC高级</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JDBC高级"><a href="#JDBC高级" class="headerlink" title="JDBC高级"></a>JDBC高级</h1><h2 id="1-JDBC事务管理"><a href="#1-JDBC事务管理" class="headerlink" title="1. JDBC事务管理"></a>1. JDBC事务管理</h2><p>事务指的是逻辑上的一组操作，组成这组操作各个逻辑单元要么全都成功，要么全都失败。</p>
<p>事务的特性:原子性,一致性,隔离性,持久性</p>
<p>​    Connection对象<br>​        setAutoCommit(boolean flag)     将此连接的自动提交模式设置为给定状态。<br>​        commit()        使所有上一次提交/回滚后进行的更改成为持久更改，并释放此 Connection 对象当前持有的所有数据库锁。<br>​        rollback()            取消在当前事务中进行的所有更改，并释放此 Connection 对象当前持有的所有数据库锁。</p>
<h2 id="2-连接池-DataSource"><a href="#2-连接池-DataSource" class="headerlink" title="2.连接池(DataSource)"></a>2.连接池(DataSource)</h2><p>​    目的是为了节省创建连接和销毁连接所需要花费的时间 提高程序的执行效率</p>
<h3 id="2-1-Druid"><a href="#2-1-Druid" class="headerlink" title="2.1 Druid"></a>2.1 Druid</h3><pre><code>DruidDataSource
    创建连接池对象
        1:
            DruidDataSource d = new DruidDataSource();
            d.setDriverClassName();
            d.setUrl()
            d.setUserName()
            d.setPassword()
        2:    准备一个db.properties    
            Properties p = new Properties();
            p.load(&quot;src/db.properties&quot;):
            DruidDataSource d = DruidDataSourceFactory.createDataSource(p);</code></pre><h3 id="2-2-C3P0"><a href="#2-2-C3P0" class="headerlink" title="2.2 C3P0"></a>2.2 C3P0</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">C3P0</span><br><span class="line">		1:</span><br><span class="line">			ComboPooledDataSource d = new ComboPooledDataSource();</span><br><span class="line">			d.setDriveClass()</span><br><span class="line">			d.setJdbcUrl()</span><br><span class="line">			d.setUser()</span><br><span class="line">			d.setPassword()</span><br><span class="line">			</span><br><span class="line">		2:	在src下面 准备c3p0-config.xml </span><br><span class="line">			ComboPooledDataSource d = new ComboPooledDataSource();</span><br><span class="line">			ComboPooledDataSource d = new ComboPooledDataSource(String DataSource);//&quot;指定名称的连接池&quot;</span><br></pre></td></tr></table></figure>

<h3 id="2-3-JDBCUtils"><a href="#2-3-JDBCUtils" class="headerlink" title="2.3  JDBCUtils"></a>2.3  JDBCUtils</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.tomcat.jdbc.pool.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ComboPooledDataSource d = <span class="keyword">new</span> ComboPooledDataSource();</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> d.getConnection();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ComboPooledDataSource <span class="title">getDataSource</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">return</span> d;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-DButils工具类"><a href="#3-DButils工具类" class="headerlink" title="3. DButils工具类"></a>3. DButils工具类</h2><p>​    <strong>DButils工具类</strong></p>
<p>​                QueryRunner<br>​                QueryRunner()                                  需要事务管理<br>​                QueryRunner(DataSource ds)        不需要事务管理<br>​                </p>
<pre><code>//可以实现增删改操作
update(String sql,Object...params)
update(Connection conn,String sql,Object...params)

//实现查询操作
query(String sql,ResultSetHandler rs,Object...params)
query(Connection conn,String sql,ResultSetHandler rs,Object...params)

ResultSetHandler是一个接口 该接口中有一个抽象方法handle()
作业:自定义实现类实现ResultSetHandler接口并重写其handle方法(方法体的实现参看下午demo1)

ArrayHandler        把每条表记录封装到一个Object数组中
ArrayListHandler    把每条表记录封装到一个Object数组中 再把所有数组放入list集合中

BeanHandler            把每条表记录的字段封装到指定类型的属性上
BeanListHandler        把每条表记录的字段封装到指定类型的属性上 并且把多个该类型的对象放入list集合中

MapHandler            把每条表记录的字段名和字段值放入到Map集合中
MapListHandler        把每条表记录的字段名和字段值放入到Map集合中 再把所有的Map集合封装到List集合中

//了解
columnListHandler    封装指定列的查询记录
scalarHandler        查询单值记录
keyedHandler        把查询到的每条记录放入Map集合中 再把该Map集合放入外层Map集合的value位置 key是指定列名称</code></pre><p>​            
​<br>​    </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/JDBC高级/" data-id="cjycog81q00011s7kg0cxwz7g" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-JDBC学习笔记" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/JDBC学习笔记/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:06:12.364Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/JDBC学习笔记/">JDBC学习笔记</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JDBC-1"><a href="#JDBC-1" class="headerlink" title="JDBC-1"></a>JDBC-1</h1><h2 id="1-JDBC的概述"><a href="#1-JDBC的概述" class="headerlink" title="1. JDBC的概述"></a>1. JDBC的概述</h2><p>​    JDBC是什么?/</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image001.png" alt="img"></p>
<p>​    什么是数据库驱动?</p>
<p>​    驱动：两个设备（应用）之间通信的桥梁。</p>
<h2 id="2-使用JDBC"><a href="#2-使用JDBC" class="headerlink" title="2.使用JDBC"></a>2.使用JDBC</h2><h2 id="2-1-使用JDBC的四个步骤-记住"><a href="#2-1-使用JDBC的四个步骤-记住" class="headerlink" title="2.1 使用JDBC的四个步骤(记住!)"></a>2.1 使用JDBC的四个步骤(记住!)</h2><h3 id="加载驱动"><a href="#加载驱动" class="headerlink" title="加载驱动"></a>加载驱动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</span><br></pre></td></tr></table></figure>

<h3 id="获得连接"><a href="#获得连接" class="headerlink" title="获得连接"></a>获得连接</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">String url = <span class="string">"jdbc:mysql://localhost:3306/test01"</span>;  <span class="comment">//默认不开启批处理 </span></span><br><span class="line"><span class="comment">// 开启批处理需在  url后加上 "?rewriteBatchedStatements = ture"</span></span><br><span class="line">username = <span class="string">"root"</span>;</span><br><span class="line">password = <span class="string">"abc"</span>;</span><br><span class="line">Connection conn = DriverManager.getConnection(url,username,password);</span><br></pre></td></tr></table></figure>

<h3 id="执行SQL"><a href="#执行SQL" class="headerlink" title="执行SQL"></a>执行SQL</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 1.创建SQL语句执行对象</span><br><span class="line">Statement stmt = conn.createStatement();</span><br><span class="line">// 2.编写SQL语句</span><br><span class="line">String sql = &quot;select * from user&quot;;</span><br><span class="line">// 3.执行SQL语句</span><br><span class="line">ResultSet rs = stmt.executeQuery(sql);</span><br><span class="line">// 4.遍历结果集</span><br><span class="line">while(rs.next())&#123;</span><br><span class="line">	System.out.println(rs.getInt(&quot;id&quot;)+&quot; &quot;+rs.getString(&quot;username&quot;)+&quot; &quot;+rs.getString(&quot;password&quot;));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="释放资源"><a href="#释放资源" class="headerlink" title="释放资源"></a>释放资源</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(rs != <span class="keyword">null</span>)&#123;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		rs.close();</span><br><span class="line">    &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">	rs = <span class="keyword">null</span>;<span class="comment">//加快被垃圾回收器处理</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(stmt != <span class="keyword">null</span>)&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        stmt.close();</span><br><span class="line">    &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">      e.printStackTrace();  </span><br><span class="line">    &#125;</span><br><span class="line">    stmt = <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(conn != <span class="keyword">null</span>)&#123;</span><br><span class="line">	<span class="keyword">try</span>&#123;</span><br><span class="line">		conn.close();</span><br><span class="line">    &#125;<span class="keyword">catch</span>(Exception e)&#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">	conn = <span class="keyword">null</span>;<span class="comment">//加快被垃圾回收器处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="2-2-JDBC的4个API"><a href="#2-2-JDBC的4个API" class="headerlink" title="2.2 JDBC的4个API"></a><strong>2.2 JDBC的4个API</strong></h2><h3 id="DriverManager"><a href="#DriverManager" class="headerlink" title="DriverManager"></a><strong>DriverManager</strong></h3><p>​      作用一：注册驱动</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1558603086573.jpg" alt="img"></p>
<p><strong>这个方法可以完成驱动的注册，但是实际开发中一般不会使用这个方法完成驱动的注册！！！</strong></p>
<p><strong>原因：</strong></p>
<p>如果需要注册驱动，就会使用DriverManager.registerDriver(new Driver());，但是查看源代码发现，在代码中有一段静态代码块，静态代码块已经调用了注册驱动的方法。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1558603205985.jpg" alt="img"></p>
<p>l  <strong>如果再手动调用该方法注册驱动，就会导致驱动被注册两次。实际开发中一般会采用：</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1558603228832.jpg" alt="img"></p>
<p>作用二：获得连接</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1558603251809.jpg" alt="img"></p>
<p>这个方法就是用来获得与数据库连接的方法：这个方法中有三个参数：</p>
<p>l  url                      ：与数据库连接的路径</p>
<p>l  user                   ：与数据库连接的用户名</p>
<p>l  password         ：与数据库连接的密码</p>
<p>主要关注的是url的写法：</p>
<p>jdbc:mysql://localhost:3306/web_test3</p>
<p>l  jdbc                   :连接数据库的协议</p>
<p>l  mysql                :是jdbc的子协议</p>
<p>l  localhost          :连接的MySQL数据库服务器的主机地址。（连接是本机就可以写成localhost），如果连接不是本机的，就需要写上连接主机的IP地址。</p>
<p>l  3306                 :MySQL数据库服务器的端口号</p>
<p>l  web_test3       :数据库名称</p>
<p>url如果连接的是本机的路径，可以简化为如下格式：</p>
<p>jdbc:mysql:///web_test3</p>
<hr>
<h3 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h3><p><strong>作用一：创建执行SQL语句的对象</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1558603443765.png" alt="1558603443765"></p>
<p>执行SQL语句对象:<br>    Statement                         :执行SQL<br>    CallableStatement           :执行数据库中存储过程<br>    PreparedStatement        :执行SQL.对SQL进行预处理。解决SQL注入漏洞</p>
<p><strong>作用二：管理事务</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1558603549213.png" alt="1558603549213"></p>
<hr>
<h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h3><p><strong>作用一：执行SQL</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1558603617085.png" alt="1558603617085"></p>
<p>    boolean execute(String sql);                     执行查询，修改，添加，删除的SQL语句。<br>    ResultSet executeQuery(String sql);        执行查询（执行select语句）。<br>    int executeUpate(String sql);                    执行修改，添加，删除的SQL语句。</p>
<p><strong>作用二：执行批处理</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1558603744629.png" alt="1558603744629"></p>
<hr>
<h3 id="ResultSet"><a href="#ResultSet" class="headerlink" title="ResultSet"></a>ResultSet</h3><p>​        ResultSet：结果集</p>
<p>​        通过select语句的查询结果。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1558603875395.jpg" alt="img"></p>
<p><strong>结果集遍历原理</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1558603924697.jpg" alt="img"></p>
<p><strong>代码实现</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1558603952625.jpg" alt="img"></p>
<p><strong>结果集的获取</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1558603990700.png" alt="1558603990700"></p>
<p>    结果集获取可以使用结果集中的:<br>        getXXX();方法通常都会有一个重载的方法。<br>    getXXX(int columnIndex);<br>    getXXX(String columnName);</p>
<hr>
<h2 id="3-使用JDBC去实现增删改查-补齐"><a href="#3-使用JDBC去实现增删改查-补齐" class="headerlink" title="3. 使用JDBC去实现增删改查(补齐)"></a>3. 使用JDBC去实现增删改查(补齐)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="4-SQL注入漏洞"><a href="#4-SQL注入漏洞" class="headerlink" title="4. SQL注入漏洞"></a>4. SQL注入漏洞</h2><p>​    原因: 在变量中存在SQL中的关键字</p>
<p>​                            or</p>
<p>​                            – </p>
<p>​    处理方案:使用预编译的statement PreparedStatement<br>​    编写SQL时 参数需要用?代替 编译之后再给占位符上的参数赋值    </p>
<p>改写案例:<br>    使用JDBC去实现增删改查(普通的statement替换成PreparedStatement)</p>
<h2 id="5-批处理"><a href="#5-批处理" class="headerlink" title="5. 批处理:"></a>5. 批处理:</h2><pre><code>addBatch(String sql)
excuteBatch();
clearBatch();

数据库默认没有开启批处理
url=jdbc:mysql://locahost:3306/test?rewriteBatchedStatements=true</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/JDBC学习笔记/" data-id="cjycog81i00001s7kpnjx9vkv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-jQuery" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/jQuery/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:06:09.395Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/jQuery/">JQuey学习笔记</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h1><h2 id="1-jQuery核心函数"><a href="#1-jQuery核心函数" class="headerlink" title="1. jQuery核心函数"></a>1. jQuery核心函数</h2><p><strong>核心:把页面中的标签转换成jQuery对象,然后调用jQuery中的相关函数和属性操作该标签</strong></p>
<p>jQuery(calllback):页面加载完成就执行括号中的函数</p>
<p>可简写为$(function{})</p>
<p>jQuery(html,[ownerDoc]):把html代码表示的元素标签转换成jQuery对象</p>
<p><strong>主要用来向页面中插入html代码</strong></p>
<p>$(html代码的字符串格式)</p>
<p>jQuery([selector,[context]]):把选择器表示的元素标签转换成jQuery对象</p>
<p>$(“选择器”)</p>
<h2 id="2-jQuery选择器"><a href="#2-jQuery选择器" class="headerlink" title="2. jQuery选择器"></a>2. jQuery选择器</h2><h3 id="2-1-基本选择器"><a href="#2-1-基本选择器" class="headerlink" title="2.1 基本选择器"></a>2.1 基本选择器</h3><p>#id</p>
<p>element</p>
<p>.class</p>
<p>*</p>
<p>selector1,selector2,selector3</p>
<h3 id="2-2-层级选择器"><a href="#2-2-层级选择器" class="headerlink" title="2.2 层级选择器"></a>2.2 层级选择器</h3><p>  空格     所有子元素;&gt;大于号     直接子元素;</p>
<p>+加号     下一个兄弟元素;`波浪线    所有兄弟元素;</p>
<h2 id="3-JQuery过滤器"><a href="#3-JQuery过滤器" class="headerlink" title="3. JQuery过滤器"></a>3. JQuery过滤器</h2><h3 id="3-1-基本过滤选择器"><a href="#3-1-基本过滤选择器" class="headerlink" title="3.1 基本过滤选择器"></a>3.1 基本过滤选择器</h3><p>:first</p>
<p>:last</p>
<p>:not()</p>
<p>:odd奇数</p>
<p>:even偶数</p>
<p>:eq()</p>
<p>:gt()</p>
<p>:lt()</p>
<p>:header</p>
<h3 id="3-2-内容过滤选择器"><a href="#3-2-内容过滤选择器" class="headerlink" title="3.2 内容过滤选择器"></a>3.2 内容过滤选择器</h3><p>:contains(text)</p>
<p>:empty没有子元素或文本的元素</p>
<p>:has(selector)</p>
<p>:parent含有子元素或文本的元素</p>
<h3 id="3-3-可见性过滤选择器"><a href="#3-3-可见性过滤选择器" class="headerlink" title="3.3 可见性过滤选择器"></a>3.3 可见性过滤选择器</h3><p>:hidden</p>
<p>:visible</p>
<h3 id="3-3-属性过滤选择器"><a href="#3-3-属性过滤选择器" class="headerlink" title="3.3 属性过滤选择器"></a>3.3 属性过滤选择器</h3><p>[attribute]</p>
<p>[attribute=value]</p>
<p>!=;^=;匹配开始</p>
<p>$=;匹配结尾</p>
<p>*=;匹配包含</p>
<h3 id="3-4-子元素过滤选择器"><a href="#3-4-子元素过滤选择器" class="headerlink" title="3.4 子元素过滤选择器"></a>3.4 子元素过滤选择器</h3><p>:nth-child序号从1开始</p>
<p>:first-child</p>
<p>:last-child</p>
<p>:only-child只有一个子元素的信息</p>
<h2 id="4-jQuery文档操作"><a href="#4-jQuery文档操作" class="headerlink" title="4.jQuery文档操作"></a>4.jQuery文档操作</h2><p>内部插入</p>
<p>.prepend($(“插入内容”))</p>
<p>$(“插入内容”).prependto()</p>
<p>.append($(“插入内容”))</p>
<p>$(“插入内容”).appendto()</p>
<p>外部插入</p>
<p>before($(“插入内容”));</p>
<p>$(“插入内容”).insertbefore();</p>
<p>after($(“插入内容”))</p>
<p>$(“插入内容”).insertafter();</p>
<p>删除</p>
<p>empty()</p>
<p>remove()连注册的事件都删除                       </p>
<p>detach()注册的事件不会删除</p>
<p>克隆’</p>
<p>clone(boolean,boolean)事件的克隆取决于boolean</p>
<p>.replaceWith()用什么替换</p>
<p>.replaceAll()替换什么</p>
<h2 id="5-jQuery方法属性"><a href="#5-jQuery方法属性" class="headerlink" title="5. jQuery方法属性"></a>5. jQuery方法属性</h2><p>html()获得html所有信息;传参数可设置html信息</p>
<p>text()只能获得文本信息,传参数可设置文本信息</p>
<p>each(function(n){})遍历 n代表元素序号</p>
<p>index()搜索匹配的元素，并返回相应元素的索引值，从0开始计数。</p>
<p>size();length 个数</p>
<p>.css({name:value,name::value})设置样式</p>
<p>.addClass(“class名”)添加class样式</p>
<p>.val()获取文本框的值</p>
<p>.show()显示</p>
<p>.hide()隐藏</p>
<p>.attr(name,value)设置被选元素的参数</p>
<h2 id="6-jQuery事件"><a href="#6-jQuery事件" class="headerlink" title="6.jQuery事件"></a>6.jQuery事件</h2><p>bind’()只能给存在的元素绑定事件</p>
<p>unbind()</p>
<p>live()可以为后续添加的元素添加事件</p>
<p>die()</p>
<p>one()</p>
<p>trigger()</p>
<p>hover()</p>
<p>toggle()</p>
<h1 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h1><p>1.创建xmlHttpRequest对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xmlHttp;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// Firefox, Opera 8.0+, Safari</span></span><br><span class="line">			xmlHttp = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">			<span class="comment">// Internet Explorer</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">"Msxml2.XMLHTTP"</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					xmlHttp = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">					alert(<span class="string">"您的浏览器不支持AJAX！"</span>);</span><br><span class="line">					<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure>

<p>2.调用回调函数</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlHttp.onreadystatechange = callback;</span><br></pre></td></tr></table></figure>

<p>3.设置请求方式</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlHttp.open(<span class="string">"GET"</span>, <span class="string">"http://localhost:8080/jquery/ajaxServlet"</span>, <span class="keyword">true</span>);</span><br></pre></td></tr></table></figure>

<p>如果请求方式为POST,要设置请求头setRequetstHeader(“content-type”,</p>
<p>4.发送请求</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlHttp.send(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>

<p>5.接收响应数据</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">function <span class="title">callback</span><span class="params">()</span> </span>&#123;</span><br><span class="line">			<span class="keyword">if</span> (xmlHttp.readyState == <span class="number">4</span>) &#123;</span><br><span class="line">				<span class="keyword">var</span> value = xmlHttp.responseText;</span><br><span class="line">				alert(value);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;;</span><br></pre></td></tr></table></figure>

<p>$.post(url,{name:value},function(data){},”接收数据类型”)</p>
<p>data为接收的响应数据</p>
<p>$.get(url,{name:value},function(data){},”接收数据类型”)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560430648450.png" alt="1560430648450"></p>
<p>jquery对象.load(url,{name:value},function(data){}]</p>
<ol>
<li>load方法是将服务器响应的数据直接插入到指定的dom元素中。</li>
<li>jquery中的load方法它的请求方式是什么?<br>a)    如果有参数请求方式是post<br>b)    如果没有参数请求方式是get</li>
</ol>
<h1 id="Json"><a href="#Json" class="headerlink" title="Json"></a>Json</h1><ul>
<li><strong>将java对象转换成json对象</strong></li>
</ul>
<p>String  json=JSONObject.toJsonString(java对象);</p>
<ul>
<li><strong>json设置别名</strong></li>
</ul>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560430740378.png" alt="1560430740378"></p>
<ul>
<li><p>将jjava对象中存在日期类型属性java.util.Date用指定的格式来转换成json。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560430833938.png" alt="1560430833938"></p>
</li>
<li><p>过滤器来设置转换成json的信息</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560430889030.png" alt="1560430889030"></p>
</li>
<li><p>取消循环引用</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560430916048.png" alt="1560430916048"></p>
</li>
</ul>
<h1 id="xml"><a href="#xml" class="headerlink" title="xml"></a>xml</h1><ul>
<li>将java对象转换成xml对象</li>
</ul>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560430947123.png" alt="1560430947123"></p>
<ul>
<li>设置别名</li>
</ul>
<p>  <img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560431014154.png" alt="1560431014154"></p>
<p>  <img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560431027029.png" alt="1560431027029"></p>
<ul>
<li><p>忽略属性</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560431079180.png" alt="1560431079180"></p>
</li>
<li><p>将类的属性设置成xml中字段的属性</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560431119237.png" alt="1560431119237"></p>
</li>
<li><p>注解使用</p>
<p>要想使用XStream的注解，必须开启注解扫描.</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560431153170.png" alt="1560431153170"></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560431160993.png" alt="1560431160993"></p>
</li>
</ul>
<p># </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/jQuery/" data-id="cjycog81s00021s7kn86bui8h" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-JSP-EL-JSTL" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/JSP-EL-JSTL/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:05:45.893Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/JSP-EL-JSTL/">JSP&amp;EL&amp;JSTL</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JSP-amp-EL-amp-JSTL"><a href="#JSP-amp-EL-amp-JSTL" class="headerlink" title="JSP&amp;EL&amp;JSTL"></a>JSP&amp;EL&amp;JSTL</h1><h2 id="1-JSP"><a href="#1-JSP" class="headerlink" title="1. JSP"></a>1. JSP</h2><h3 id="1-1-Jsp概述"><a href="#1-1-Jsp概述" class="headerlink" title="1.1 Jsp概述"></a>1.1 Jsp概述</h3><h4 id="什么是JSP"><a href="#什么是JSP" class="headerlink" title="什么是JSP"></a>什么是JSP</h4><p>JSP：Java Server Pages Java服务器端页面。</p>
<p>JSP 就是 HTML + Java代码 + JSP自身东西。</p>
<h4 id="JSP的运行原理"><a href="#JSP的运行原理" class="headerlink" title="JSP的运行原理"></a>JSP的运行原理</h4><p>JSP在执行时，会被服务器翻译为Servlet编译执行，JSP就是一个Servlet。</p>
<h4 id="JSP脚本元素"><a href="#JSP脚本元素" class="headerlink" title="JSP脚本元素"></a>JSP脚本元素</h4><p>&lt;%! %&gt; :JSP声明 翻译成 Servlet成员部分的内容。声明变量，方法，内部类。</p>
<p>&lt;%= %&gt; :翻译out.print(),在service方法内部。用于生成HTML页面源码。</p>
<p>&lt;% %&gt; :嵌入Java代码 翻译成service方法内部的代码块。声明变量，内部类。</p>
<h3 id="1-2-JSP的注释"><a href="#1-2-JSP的注释" class="headerlink" title="1.2 JSP的注释"></a>1.2 JSP的注释</h3><h4 id="HTML的注释"><a href="#HTML的注释" class="headerlink" title="HTML的注释"></a>HTML的注释</h4><ul>
<li><p>写法:</p>
<ul>
<li>&lt;!--HTML的注释 --&gt;</li>
</ul>
</li>
<li><p>存在时机</p>
<ul>
<li>存在JSP的源码中，翻译成Servlet后这个注释也存在，在生成HTML响应到页面的时候这个注释也会存在。</li>
</ul>
</li>
</ul>
<h4 id="Java代码的注释"><a href="#Java代码的注释" class="headerlink" title="Java代码的注释"></a>Java代码的注释</h4><ul>
<li><p>写法:</p>
<ul>
<li><p>&lt;% // 单行注释</p>
</li>
<li><p>/* 多行注释 */</p>
</li>
<li><p>/**文档注释*/</p>
</li>
<li><p>%&gt;</p>
</li>
</ul>
</li>
<li><p>存在时机</p>
<ul>
<li>存在JSP的源码中，翻译成Servlet后Java代码的注释也会存在，但是生成HTML响应到页面后，这种注释就消失了。</li>
</ul>
</li>
</ul>
<h4 id="JSP注释"><a href="#JSP注释" class="headerlink" title="JSP注释"></a>JSP注释</h4><ul>
<li><p>写法:</p>
<ul>
<li>&lt;%-- JSP的注释 --%&gt;</li>
</ul>
</li>
<li><p>存在时机:</p>
<ul>
<li>存在JSP的源码中，翻译Servlet后注释就没有了。</li>
</ul>
</li>
</ul>
<p><strong>注意：Java代码注释的话不要使用HTML的注释！！！</strong></p>
<h3 id="1-3-JSP的指令元素的概述"><a href="#1-3-JSP的指令元素的概述" class="headerlink" title="1.3  JSP的指令元素的概述"></a>1.3  JSP的指令元素的概述</h3><h4 id="JSP指令元素作用"><a href="#JSP指令元素作用" class="headerlink" title="JSP指令元素作用"></a>JSP指令元素作用</h4><ul>
<li><p>用于指示JSP执行的某些步骤</p>
</li>
<li><p>用于指示JSP变现特定行为</p>
</li>
</ul>
<h4 id="JSP指令元素的语法"><a href="#JSP指令元素的语法" class="headerlink" title="JSP指令元素的语法"></a>JSP指令元素的语法</h4><ul>
<li><p>语法:</p>
<ul>
<li>&lt;%@ 指令名称 属性名称=属性的值 属性名称=属性的值 %&gt;</li>
</ul>
</li>
</ul>
<h4 id="JSP指令元素的分类"><a href="#JSP指令元素的分类" class="headerlink" title="JSP指令元素的分类"></a>JSP指令元素的分类</h4><ul>
<li><p>page指令：指示JSP的页面设置属性和行为</p>
</li>
<li><p>include指令：指示JSP包含哪些其他页面</p>
</li>
<li><p>taglib指令：指示JSP页面包含哪些标签库</p>
</li>
</ul>
<h3 id="1-4-JSP的指令-page指令"><a href="#1-4-JSP的指令-page指令" class="headerlink" title="1.4 JSP的指令-page指令"></a>1.4 JSP的指令-page指令</h3><h4 id="Page指令简介"><a href="#Page指令简介" class="headerlink" title="Page指令简介"></a>Page指令简介</h4><ul>
<li><p>写法：</p>
<ul>
<li>&lt;%@ page 属性名=属性值 %&gt;</li>
</ul>
</li>
<li><p>Page指令用来定义JSP文件的全局属性。</p>
</li>
<li><p>这些属性可以单独使用，也可以几个或多个同时使用。</p>
</li>
<li><p>在JSP页面中，只有import属性可以出现多次，其他属性都只能出现一次。</p>
</li>
</ul>
<h4 id="Page指令属性"><a href="#Page指令属性" class="headerlink" title="Page指令属性"></a>Page指令属性</h4><ul>
<li><p>language属性： 声明使用脚本的语言。只能是java。</p>
</li>
<li><p>extends属性： 标明JSP编译成Servlet的时候继承的类。默认值：HttpJspBase。</p>
</li>
<li><p>session属性： 标明JSP中是否可以直接使用session对象。默认值是true。</p>
</li>
<li><p>buffer属性： 标明JSP对客户端输出缓冲区大小。默认值8kb。</p>
</li>
<li><p>autoFlush属性： 如果缓冲区大小溢出，是否自动刷出。默认true。</p>
</li>
<li><p><strong>import属性： 用于导入Java包或类。</strong></p>
</li>
<li><p><strong>contentType属性：标明JSP被浏览器解析和打开的时候采用的默认的字符集。</strong></p>
</li>
<li><p><strong>pageEncoding属性：JSP文件及JSP翻译后的Servlet保存到硬盘上采用字符集。</strong></p>
</li>
<li><p>isErrorPage属性： 处理JSP页面异常。</p>
</li>
<li><p>errorPage属性： 处理JSP页面异常。</p>
</li>
<li><p>isELIgnored属性： 通知JSP是否忽略EL表达式。</p>
</li>
</ul>
<h3 id="1-5-JSP的指令-include和taglib指令"><a href="#1-5-JSP的指令-include和taglib指令" class="headerlink" title="1.5 JSP的指令-include和taglib指令"></a>1.5 JSP的指令-include和taglib指令</h3><h4 id="Include指令简介"><a href="#Include指令简介" class="headerlink" title="Include指令简介"></a>Include指令简介</h4><ul>
<li><p>写法：</p>
<ul>
<li>&lt;%@ include 属性名=属性值%&gt;</li>
</ul>
</li>
<li><p>作用：</p>
<ul>
<li>在JSP页面中<strong>静态包含</strong>一个文件，同时由该JSP解析包含的文件内容。</li>
</ul>
</li>
</ul>
<h4 id="Include指令属性"><a href="#Include指令属性" class="headerlink" title="Include指令属性"></a>Include指令属性</h4><ul>
<li>file属性： 指示JSP页面包含页面路径。</li>
</ul>
<h4 id="Include指令原理（静态包含原理）"><a href="#Include指令原理（静态包含原理）" class="headerlink" title="Include指令原理（静态包含原理）"></a>Include指令原理（静态包含原理）</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152560143.png" alt="1560152560143"></p>
<ul>
<li><p>注意地方：</p>
<ul>
<li><p>应该将被包含的页面的结构去掉。</p>
</li>
<li><p>在被包含的页面中定义变量，在包含的页面中还可以使用。</p>
</li>
</ul>
</li>
</ul>
<h4 id="Taglib指令简介"><a href="#Taglib指令简介" class="headerlink" title="Taglib指令简介"></a>Taglib指令简介</h4><ul>
<li><p>写法</p>
<ul>
<li>&lt;%@ taglib 属性名=属性值%&gt;</li>
</ul>
</li>
<li><p>作用：</p>
<ul>
<li>用于在JSP页面中引入标签库。</li>
</ul>
</li>
</ul>
<h4 id="Taglib指令属性"><a href="#Taglib指令属性" class="headerlink" title="Taglib指令属性"></a>Taglib指令属性</h4><ul>
<li><p>uri属性： 引入的标签库的路径</p>
</li>
<li><p>prefix属性： 引入标签库的别名</p>
</li>
</ul>
<h3 id="1-6-JSP的内置对象"><a href="#1-6-JSP的内置对象" class="headerlink" title="1.6 JSP的内置对象"></a>1.6 JSP的内置对象</h3><h4 id="什么是JSP的内置对象"><a href="#什么是JSP的内置对象" class="headerlink" title="什么是JSP的内置对象"></a>什么是JSP的内置对象</h4><p>JSP的内置对象：指的是可以直接在JSP页面中使用的对象。</p>
<h4 id="JSP的内置对象有哪些"><a href="#JSP的内置对象有哪些" class="headerlink" title="JSP的内置对象有哪些"></a>JSP的内置对象有哪些</h4><p>JSP当中有9大内置对象：</p>
<ul>
<li><p>request ：从客户端向服务器发送的请求对象</p>
</li>
<li><p>response ：从服务器端向客户端作出响应对象</p>
</li>
<li><p>session ：服务器为客户端创建会话对象</p>
</li>
<li><p>application ：代表应用。获得的ServletContext对象。</p>
</li>
<li><p>out ：向输出流写入内容的对象。</p>
</li>
<li><p>page ：当前的JSP翻译成Servlet后的对象的引用。</p>
</li>
<li><p>pageContext ：本JSP的页面的上下文对象。</p>
</li>
<li><p>config ：本JSP的ServletConfig对象。</p>
</li>
<li><p>exception ：表示JSP页面运行时产生的异常对象。</p>
</li>
</ul>
<h4 id="JSP的内置对象具体类型"><a href="#JSP的内置对象具体类型" class="headerlink" title="JSP的内置对象具体类型"></a>JSP的内置对象具体类型</h4><ul>
<li><p>request HttpServletRequest</p>
</li>
<li><p>response HttpServletResponse</p>
</li>
<li><p>session HttpSession</p>
</li>
<li><p>application ServletContext</p>
</li>
<li><p>config ServletConfig</p>
</li>
<li><p>page Object</p>
</li>
<li><p>pageContext PageContext</p>
</li>
<li><p>out JspWriter</p>
</li>
<li><p>exception Throwable</p>
</li>
</ul>
<h3 id="1-7-pageContext对象的概述"><a href="#1-7-pageContext对象的概述" class="headerlink" title="1.7 pageContext对象的概述"></a>1.7 pageContext对象的概述</h3><h4 id="pageContext对象简介"><a href="#pageContext对象简介" class="headerlink" title="pageContext对象简介"></a>pageContext对象简介</h4><p>pageContext对象直接翻译为”页面上下文”对象，代表的是当前页面运行的一些属性。</p>
<p>它是javax.servlet.jsp.PageContext类的实例对象。</p>
<h4 id="pageContext对象作用"><a href="#pageContext对象作用" class="headerlink" title="pageContext对象作用"></a>pageContext对象作用</h4><ul>
<li><p>提供了page范围的数据存取的方法：</p>
<ul>
<li>向page范围中存入数据：</li>
</ul>
</li>
</ul>
<blockquote>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152657200.png" alt="1560152657200"></p>
</blockquote>
<ul>
<li>从page范围获取数据</li>
</ul>
<blockquote>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152670664.png" alt="1560152670664"></p>
</blockquote>
<ul>
<li>从page范围移除数据</li>
</ul>
<blockquote>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152684686.png" alt="1560152684686"></p>
</blockquote>
<ul>
<li>查找属性的方法：</li>
</ul>
<blockquote>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152698712.png" alt="1560152698712"></p>
</blockquote>
<ul>
<li><p>通过这个对象获得其他的8个内置对象：</p>
<ul>
<li>获得其他8个内置对象的方法</li>
</ul>
</li>
</ul>
<blockquote>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152707661.png" alt="1560152707661"></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152740321.png" alt="1560152740321"></p>
</blockquote>
<h3 id="1-8-JSP的四个作用范围"><a href="#1-8-JSP的四个作用范围" class="headerlink" title="1.8 JSP的四个作用范围"></a>1.8 JSP的四个作用范围</h3><h4 id="JSP的四个作用范围概述"><a href="#JSP的四个作用范围概述" class="headerlink" title="JSP的四个作用范围概述"></a>JSP的四个作用范围概述</h4><ul>
<li><p>PageScope ：页面范围。</p>
<ul>
<li>页面范围指的是在当前的页面内有效，出了这个页面，用pageContext保存的数据就无效了。</li>
</ul>
</li>
<li><p>RequestScope ：请求范围。</p>
<ul>
<li>从客户端向服务器发送一次请求，服务器对这次请求作出了响应之后，用request保存的数据就无效了。</li>
</ul>
</li>
<li><p>SessionScope ：会话范围。</p>
<ul>
<li>每个浏览器向服务器发送请求（多次请求）。将该会话结束。</li>
</ul>
</li>
<li><p>ApplicationScope ：应用范围。</p>
<ul>
<li>在整个应用中任意的地方都可以获取。</li>
</ul>
</li>
</ul>
<h4 id="JSP的四个作用范围演示"><a href="#JSP的四个作用范围演示" class="headerlink" title="JSP的四个作用范围演示"></a>JSP的四个作用范围演示</h4><h4 id="pageContext对象向四个域范围存取数据"><a href="#pageContext对象向四个域范围存取数据" class="headerlink" title="pageContext对象向四个域范围存取数据"></a>pageContext对象向四个域范围存取数据</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152913558.png" alt="1560152913558"></p>
<h4 id="findAttribute方法"><a href="#findAttribute方法" class="headerlink" title="findAttribute方法:"></a>findAttribute方法:</h4><p>查找属性方法：先根据小范围的名称进行查找，如果找到了就返回，如果没有找到就会去比其大一个域的范围进行查找。</p>
<h3 id="1-9-JSP的动作标签"><a href="#1-9-JSP的动作标签" class="headerlink" title="1.9 JSP的动作标签"></a>1.9 JSP的动作标签</h3><h4 id="什么是JSP的动作标签"><a href="#什么是JSP的动作标签" class="headerlink" title="什么是JSP的动作标签"></a>什么是JSP的动作标签</h4><p>JSP的动作标签用于在JSP页面中提供业务逻辑功能，避免在JSP页面中直接编写Java代码，造成jsp页面难以维护。</p>
<h4 id="常用的动作标签"><a href="#常用的动作标签" class="headerlink" title="常用的动作标签"></a>常用的动作标签</h4><ul>
<li><p><strong>&lt;jsp:forward/&gt; ：请求转发。</strong></p>
</li>
<li><p><strong>&lt;jsp:include/&gt;：包含（动态包含）。</strong></p>
</li>
<li><p>&lt;jsp:param/&gt;：传递参数。</p>
</li>
</ul>
<h4 id="演示JSP的动作标签"><a href="#演示JSP的动作标签" class="headerlink" title="演示JSP的动作标签"></a>演示JSP的动作标签</h4><h4 id="静态包含和动态包含区别"><a href="#静态包含和动态包含区别" class="headerlink" title="静态包含和动态包含区别"></a>静态包含和动态包含区别</h4><p>静态包含:在翻译阶段就将代码复制过去了,而动态包含是包含最终的执行结果</p>
<h4 id="动态包含的原理"><a href="#动态包含的原理" class="headerlink" title="动态包含的原理"></a>动态包含的原理</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560152943493.png" alt="1560152943493"></p>
<h2 id="2-EL"><a href="#2-EL" class="headerlink" title="2. EL"></a>2. EL</h2><h3 id="2-1-EL的概述"><a href="#2-1-EL的概述" class="headerlink" title="2.1 EL的概述"></a>2.1 EL的概述</h3><p>EL：Expression Language表达式语言。</p>
<p>EL的作用: EL和JSTL一起使用取代JSP页面中嵌入Java代码写法。</p>
<h4 id="EL功能"><a href="#EL功能" class="headerlink" title="EL功能"></a>EL功能</h4><ul>
<li><p><strong>EL获取数据</strong></p>
</li>
<li><p><strong>EL执行运算</strong></p>
</li>
<li><p><strong>EL获取web开发常用的对象</strong></p>
</li>
<li><p>EL调用Java方法</p>
</li>
</ul>
<h4 id="EL语法"><a href="#EL语法" class="headerlink" title="EL语法"></a>EL语法</h4><ul>
<li><p>语法：</p>
<ul>
<li>${ EL表达式 }</li>
</ul>
</li>
</ul>
<h3 id="2-2-EL获取数据"><a href="#2-2-EL获取数据" class="headerlink" title="2.2 EL获取数据"></a>2.2 EL获取数据</h3><h4 id="EL如何获取数据"><a href="#EL如何获取数据" class="headerlink" title="EL如何获取数据"></a>EL如何获取数据</h4><p>EL表达式语句在执行的时候，会调用pageContext.findAttribute()方法。分别从page、request、session、application范围查找相应对象，找到就会返回相应对象，找不到返回””(不是null，是空的字符串)。EL所获取的数据需要在四个作用范围中。</p>
<h4 id="演示EL获取数据"><a href="#演示EL获取数据" class="headerlink" title="演示EL获取数据"></a>演示EL获取数据</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153179088.png" alt="1560153179088"></p>
<h3 id="2-3-EL获取数组和集合中的数据"><a href="#2-3-EL获取数组和集合中的数据" class="headerlink" title="2.3 EL获取数组和集合中的数据"></a>2.3 EL获取数组和集合中的数据</h3><h4 id="获取数组的数据"><a href="#获取数组的数据" class="headerlink" title="获取数组的数据"></a>获取数组的数据</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153212543.png" alt="1560153212543"></p>
<h4 id="获取List集合的数据"><a href="#获取List集合的数据" class="headerlink" title="获取List集合的数据"></a>获取List集合的数据</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153225590.png" alt="1560153225590"></p>
<h4 id="获取Map集合的数据"><a href="#获取Map集合的数据" class="headerlink" title="获取Map集合的数据"></a>获取Map集合的数据</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153239967.png" alt="1560153239967"></p>
<ul>
<li><p>注意：</p>
<ul>
<li><p>如果map的key中包含了特殊字符，不能使用.必须使用[]。</p>
<ul>
<li><p>.用来获取对象的属性的。</p>
</li>
<li><p>[]用来获得下标。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153268543.png" alt="1560153268543"></p>
<h3 id="2-3-EL执行运算"><a href="#2-3-EL执行运算" class="headerlink" title="2.3 EL执行运算"></a>2.3 EL执行运算</h3><ol>
<li><h4 id="执行算数运算"><a href="#执行算数运算" class="headerlink" title="执行算数运算"></a>执行算数运算</h4></li>
</ol>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153328563.png" alt="1560153328563"></p>
<h4 id="执行关系运算"><a href="#执行关系运算" class="headerlink" title="执行关系运算"></a>执行关系运算</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153340123.png" alt="1560153340123"></p>
<h4 id="执行逻辑运算"><a href="#执行逻辑运算" class="headerlink" title="执行逻辑运算"></a>执行逻辑运算</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153349545.png" alt="1560153349545"></p>
<h4 id="执行三元运算"><a href="#执行三元运算" class="headerlink" title="执行三元运算"></a>执行三元运算</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153359007.png" alt="1560153359007"></p>
<h4 id="empty运算符"><a href="#empty运算符" class="headerlink" title="empty运算符"></a>empty运算符</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153369984.png" alt="1560153369984"></p>
<h3 id="2-4-EL获取web开发常用对象"><a href="#2-4-EL获取web开发常用对象" class="headerlink" title="2.4 EL获取web开发常用对象"></a>2.4 EL获取web开发常用对象</h3><h4 id="常用对象有哪些"><a href="#常用对象有哪些" class="headerlink" title="常用对象有哪些"></a>常用对象有哪些</h4><p>EL表达式定义了11个web开发常用对象。使用这些对象可以很方便获取web开发冲的一些常见对象，并可以读取这些对象中的数据。</p>
<ul>
<li><p>pageContext ：相当于JSP内置对象中pageContext</p>
</li>
<li><p>pageScope ：获取指定域下的名称的数据</p>
</li>
<li><p>requestScope ：获取指定域下的名称的数据</p>
</li>
<li><p>sessionScope ：获取指定域下的名称的数据</p>
</li>
<li><p>applicationScope ：获取指定域下的名称的数据</p>
</li>
<li><p>param ：在页面中接收请求参数（接收一个名称对应一个值参数）。</p>
</li>
<li><p>paramValues ：在页面中接收请求参数（接收一个名称对应多个值参数）。</p>
</li>
<li><p>header ：在页面上获取请求头（获取一个key对应一个value 头）</p>
</li>
<li><p>headerValues ：在页面上获取请求头（获取一个key对应多个value 头）</p>
</li>
<li><p>cookie ：访问cookie的名称和值（${cookie.key.name} ${cookie.key.value}）</p>
</li>
<li><p>initParam ：获取全局初始化参数的值</p>
</li>
</ul>
<h2 id="3-JSTL"><a href="#3-JSTL" class="headerlink" title="3. JSTL"></a>3. JSTL</h2><h4 id="什么是JSTL"><a href="#什么是JSTL" class="headerlink" title="什么是JSTL"></a>什么是JSTL</h4><p>JSTL：JSP的标准标签库。</p>
<h4 id="为什么学习JSTL"><a href="#为什么学习JSTL" class="headerlink" title="为什么学习JSTL"></a>为什么学习JSTL</h4><p>主要和EL来取代传统页面上直接嵌入Java代码写法。提升程序可读性、维护性和方便性。</p>
<h4 id="JSTL的版本"><a href="#JSTL的版本" class="headerlink" title="JSTL的版本"></a>JSTL的版本</h4><p>JSTL1.0、JSTL1.1和JSTL1.2版本</p>
<ul>
<li><p>1.0版本不支持EL表达式。</p>
</li>
<li><p><strong>1.1和1.2支持了EL表达式。</strong></p>
</li>
</ul>
<h4 id="JSTL的标签库"><a href="#JSTL的标签库" class="headerlink" title="JSTL的标签库"></a>JSTL的标签库</h4><ul>
<li><p><strong>c标签（core标签库）</strong></p>
</li>
<li><p>fmt标签（国际化标签库）</p>
</li>
<li><p>xml标签</p>
</li>
<li><p>sql标签</p>
</li>
</ul>
<h4 id="引入标签库"><a href="#引入标签库" class="headerlink" title="引入标签库"></a>引入标签库</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153463551.png" alt="1560153463551"></p>
<h4 id="使用JSTL"><a href="#使用JSTL" class="headerlink" title="使用JSTL"></a>使用JSTL</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153471704.png" alt="1560153471704"></p>
<h3 id="JSTL的if标签"><a href="#JSTL的if标签" class="headerlink" title="JSTL的if标签"></a>JSTL的if标签</h3><h4 id="if的标签使用"><a href="#if的标签使用" class="headerlink" title="if的标签使用"></a>if的标签使用</h4><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560153507140.png" alt="1560153507140"></p>
<h4 id="if标签的属性"><a href="#if标签的属性" class="headerlink" title="if标签的属性"></a>if标签的属性</h4><ul>
<li><p>test属性 ：条件</p>
</li>
<li><p>var属性 ：将test中的条件的值赋给一个变量，在var中定义变量</p>
</li>
<li><p>scope属性：作用范围</p>
</li>
</ul>
<h3 id="JSTL的foreach标签"><a href="#JSTL的foreach标签" class="headerlink" title="JSTL的foreach标签"></a>JSTL的foreach标签</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3&gt;遍历&lt;/h3&gt;</span><br><span class="line">	&lt;c:forEach <span class="keyword">var</span>=<span class="string">"i"</span> begin=<span class="string">"2"</span> end=<span class="string">"100"</span> step=<span class="string">"1"</span> varStatus=<span class="string">"s"</span>&gt;</span><br><span class="line">		&lt;c:<span class="keyword">if</span> test=<span class="string">"$&#123;s.count % 2 == 0&#125;"</span>&gt;</span><br><span class="line">			&lt;font color="red"&gt;$&#123;i&#125;&lt;/font&gt;</span><br><span class="line">		&lt;/c:if&gt;</span><br><span class="line">		&lt;c:<span class="keyword">if</span> test=<span class="string">"$&#123;s.count % 2 != 0&#125;"</span>&gt;</span><br><span class="line">			&lt;font color="blue"&gt;$&#123;i&#125;&lt;/font&gt;</span><br><span class="line">		&lt;/c:if&gt;</span><br><span class="line">	&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>

<p>### </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/JSP-EL-JSTL/" data-id="cjycofm910002jg7kqntnqkwv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-JSP入门-MVCL-案例" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/JSP入门-MVCL-案例/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:05:43.860Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/JSP入门-MVCL-案例/">JSP入门</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="JSP入门-amp-MVCL-amp-案例"><a href="#JSP入门-amp-MVCL-amp-案例" class="headerlink" title="JSP入门&amp;MVCL&amp;案例"></a>JSP入门&amp;MVCL&amp;案例</h1><h2 id="1-JSP"><a href="#1-JSP" class="headerlink" title="1 JSP"></a>1 JSP</h2><h3 id="1-1-JSP概述"><a href="#1-1-JSP概述" class="headerlink" title="1.1 JSP概述"></a>1.1 JSP概述</h3><ul>
<li><p><strong>什么是JSP?</strong></p>
<p>JSP：Java Server Pages (Java服务器端页面)，其实就在HTML中嵌入Java代码。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559648554093.jpg" alt="img"></p>
</li>
<li><p><strong>为什么学习JSP</strong></p>
<p>SUN公司提供了动态网页开发技术：Servlet。Servlet自身有一些缺点，SUN公司发现了这些问题，推出了一个新的动态网页开发技术JSP。<br>Servlet的缺点：<br>    Servlet需要进行配置，不方便维护<br>    Servlet很难向网页中输出HTML页面内容</p>
</li>
</ul>
<h3 id="1-2-JSP的运行原理"><a href="#1-2-JSP的运行原理" class="headerlink" title="1.2 JSP的运行原理"></a>1.2 JSP的运行原理</h3><ul>
<li><p>JSP文件翻译成Java文件，将这个Java文件编译生成class文件，运行class文件。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559648745306.jpg" alt="img"></p>
</li>
</ul>
<h3 id="1-3-JSP的脚本元素"><a href="#1-3-JSP的脚本元素" class="headerlink" title="1.3  JSP的脚本元素"></a>1.3  JSP的脚本元素</h3><ul>
<li><hr>
<p>JSP = HTML + Java代码 + JSP自身东西</p>
<p>JSP的脚本元素就是在JSP中嵌入Java代码。</p>
<ul>
<li><p><strong>声明标签</strong></p>
<p>    &lt;%! 变量或方法声明 %&gt;<br>    写在这个脚本中的代码，翻译成Servlet内部的成员变量或成员方法。</p>
</li>
<li><p><strong>表达式标签</strong></p>
<p>    &lt;%= 表达式 %&gt;<br>    写在这个脚本中的代码，翻译成方法内部的out.print();当中的内容。</p>
</li>
<li><p><strong>程序代码标签</strong></p>
<p>    &lt;% 程序代码 %&gt;<br>    写在这个脚本中的代码，翻译成方法内部的局部变量或方法内部代码片段。</p>
</li>
</ul>
</li>
</ul>
<h3 id="1-4-JSP开发模式"><a href="#1-4-JSP开发模式" class="headerlink" title="1.4  JSP开发模式"></a>1.4  JSP开发模式</h3><ul>
<li><hr>
<p>动态网页开发模式的发展</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559648952626.jpg" alt="img"></p>
</li>
</ul>
<h3 id="1-5-路径的分类"><a href="#1-5-路径的分类" class="headerlink" title="1.5 路径的分类"></a>1.5 路径的分类</h3><ul>
<li><p><strong>相对路径</strong></p>
<p>    相对路径的写法：<br>    相对路径不是以 / 开头的。<br>    相对路径的使用：<br>    在跟路径下的页面访问Servlet<br>demo2.jsp的访问路径：<br><a href="http://localhost:8080/web02/demo2.jsp" target="_blank" rel="noopener">http://localhost:8080/web02/demo2.jsp</a><br>ServletDemo1的访问路径：<br><a href="http://localhost:8080/web02/ServletDemo1" target="_blank" rel="noopener">http://localhost:8080/web02/ServletDemo1</a></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559649569392.jpg" alt="img"></p>
<p>    在某个目录下的页面访问Servlet<br>demo2.jsp的访问路径：</p>
<pre><code>http://localhost:8080/web02/demo2/demo2.jsp</code></pre><p>ServletDemo1的访问路径：<br><a href="http://localhost:8080/web02/ServletDemo1" target="_blank" rel="noopener">http://localhost:8080/web02/ServletDemo1</a></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559649612497.jpg" alt="img"></p>
</li>
</ul>
<ul>
<li><p><strong>绝对路径（通常）</strong></p>
<p>    绝对路径的写法：<br>    通常以 / 开始的路径<br>使用绝对路径，不需要关心当前文件和要请求的文件的相对位置的关系！！！<br>    注意：<br>    绝对路径分成服务器端路径和客户端路径<br>    客户端路径  需要带工程名<br>    服务器端路径 不需要带工程名</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image001-1559649713177.png" alt="img"></p>
</li>
</ul>
<h2 id="2-请求转发和重定向"><a href="#2-请求转发和重定向" class="headerlink" title="2.请求转发和重定向"></a>2.请求转发和重定向</h2><h3 id="2-1-请求转发"><a href="#2-1-请求转发" class="headerlink" title="2.1 请求转发"></a>2.1 请求转发</h3><ul>
<li><p>请求转发的的写法</p>
<p>通过ServletRequest对象获得RequestDispatcher对象。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650020604.jpg" alt="img"></p>
<p>再根据RequestDispatcher中的方法进行请求转发。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650039965.jpg" alt="img"></p>
</li>
<li><p>请求转发的代码实现</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650070006.jpg" alt="img"></p>
</li>
<li><p>请求转发的效果</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650088180.jpg" alt="img"></p>
</li>
</ul>
<h3 id="2-2-重定向"><a href="#2-2-重定向" class="headerlink" title="2.2 重定向"></a>2.2 重定向</h3><ul>
<li><p>重定向的写法</p>
<p>通过HttpServletResponse对象中的以下方法实现重定向</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650125148.jpg" alt="img"></p>
</li>
<li><p>重定向的代码实现</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650146749.jpg" alt="img"></p>
</li>
<li><p>重定向的效果</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650163992.jpg" alt="img"></p>
</li>
</ul>
<h3 id="2-3-请求转发和重定向的区别"><a href="#2-3-请求转发和重定向的区别" class="headerlink" title="2.3 请求转发和重定向的区别"></a>2.3 请求转发和重定向的区别</h3><ul>
<li><p>请求转发和重定向原理</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1559650221488.jpg" alt="img"></p>
</li>
<li><p>请求转发和重定向区别总结</p>
<p>    请求转发是一次请求一次响应，而重定向是两次请求两次响应。<br>    请求转发地址栏不会变化的，重定向地址栏发生变化。<br>    请求转发路径不带工程名，重定向需要带工程名路径。<br>    请求转发只能在本网站内部，重定向可以定向到任何网站。</p>
</li>
</ul>
<h2 id="3-登陆案例分析过程"><a href="#3-登陆案例分析过程" class="headerlink" title="3.登陆案例分析过程"></a>3.登陆案例分析过程</h2><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1559650742626.png" alt="1559650742626"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/JSP入门-MVCL-案例/" data-id="cjycofm8g0000jg7ke7f4al51" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-linux命令" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/linux命令/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:05:40.415Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/linux命令/">linux命令</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="linux命令"><a href="#linux命令" class="headerlink" title="linux命令"></a>linux命令</h1><h2 id="1-切换目录命令cd"><a href="#1-切换目录命令cd" class="headerlink" title="1. 切换目录命令cd"></a>1. 切换目录命令cd</h2><p>cd home      切换到home目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560598559248.png" alt="1560598559248"></p>
<p>cd ..     切换到上一层目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560598713751.png" alt="1560598713751"></p>
<p>cd /           切换到系统根目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560598730100.png" alt="1560598730100"></p>
<p>cd ~          切换到用户主目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560598777737.png" alt="1560598777737"></p>
<p>cd -           切换到上一个所在目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560598761692.png" alt="1560598761692"></p>
<h2 id="2-列出文件列表ls-ll"><a href="#2-列出文件列表ls-ll" class="headerlink" title="2. 列出文件列表ls ll"></a>2. 列出文件列表ls ll</h2><p>ls -a         显示所有文件包括隐藏文件(文件名以.开头)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560598995895.png" alt="1560598995895"></p>
<p>ls -l (简写为ll)    使用较长格式列出信息</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560599098101.png" alt="1560599098101"></p>
<p>dir         显示文件(与ls功能相同,很少用)</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560599191717.png" alt="1560599191717"></p>
<h2 id="3-创建与删除目录-mkdir-rmdir"><a href="#3-创建与删除目录-mkdir-rmdir" class="headerlink" title="3.创建与删除目录 mkdir rmdir"></a>3.创建与删除目录 mkdir rmdir</h2><p>mkdir aaa                在当前目录下创建aaa目录 </p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560599830981.png" alt="1560599830981"></p>
<p>mkdir –p bbb/ccc      级联创建bbb以及ccc目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560600185000.png" alt="1560600185000"></p>
<p>rmdir   aaa              在当前目录下删除aaa目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560600323068.png" alt="1560600323068"></p>
<p>rm  -r   目录名        递归删除目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560600776964.png" alt="1560600776964"></p>
<p>rm  -f     目录名    不询问直接删除目录</p>
<p>rm  -rf     目录名    不询问递归删除目录</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560600833612.png" alt="1560600833612"></p>
<h2 id="4-创建文件"><a href="#4-创建文件" class="headerlink" title="4.创建文件"></a>4.创建文件</h2><p>touch a.txt            在当前目录下创建a.txt文件</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560600502429.png" alt="1560600502429"></p>
<p>cp  a.txt  ccc    将a.txt文件复制到ccc目录中</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560600655837.png" alt="1560600655837"></p>
<p>cp  a.txt  b.txt    将a.txt复制到当前目录并命名为b.txt</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560600720534.png" alt="1560600720534"></p>
<p>mv  a.txt c.txt    在当前目录下将a.txt重命名为c.txt</p>
<p>mv    c.txt   ccc    将c.txt文件移动到ccc目录下</p>
<h2 id="5-编辑文件"><a href="#5-编辑文件" class="headerlink" title="5.编辑文件"></a>5.编辑文件</h2><p>有三种模式 命令行  插入  底行<br>通过  vi（vim） 文件名  就可以对文件进行操作<br>当操作时，开始是命令行模式   按I  o  a 切换到插入模式<br>按esc 可以在重新切换到命令行模式<br>在命令行模式下按 “:” 就可以切换到底行模式。</p>
<p>在命令行模式下可以使用一些快捷键<br>在Linux下一般使用vi编辑器来编辑文件。 vi既可以查看文件也可以编辑文件。 三种模式：命令行、插入、底行模式。<br>切换到命令行模式：按Esc键；<br>切换到插入模式：按 i 、o、a键；<br>    i 在当前位置前插入<br>    I 在当前行首插入<br>    a 在当前位置后插入<br>    A 在当前行尾插入<br>    o 在当前行之后插入一行<br>    O 在当前行之前插入一行</p>
<p>切换到底行模式：按 :（冒号）； </p>
<p>打开文件：vim file<br>退出：esc :q<br>修改文件：输入i进入插入模式<br>保存并退出：esc:wq</p>
<p>不保存退出：esc:q!</p>
<p>快捷键：命令行模式下<br>dd – 快速删除一行<br>yy - 复制当前行<br>nyy - 从当前行向后复制几行<br>p - 粘贴<br>R – 替换</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560601084964.png" alt="1560601084964"></p>
<h2 id="6-浏览文件"><a href="#6-浏览文件" class="headerlink" title="6.浏览文件"></a>6.浏览文件</h2><p>cat操作</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1560601702501.png" alt="1560601702501"></p>
<p>more和less操作类似</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/linux命令/" data-id="cjycofm8m0001jg7k6f7t3f7j" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-Listener-Filter" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/Listener-Filter/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:05:38.229Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Listener-Filter/">Listner&amp;Filter</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Listener-amp-Filter"><a href="#Listener-amp-Filter" class="headerlink" title="Listener&amp;Filter"></a>Listener&amp;Filter</h1><h2 id="1-Listener"><a href="#1-Listener" class="headerlink" title="1.Listener"></a>1.Listener</h2><h3 id="1-1-监听器概述"><a href="#1-1-监听器概述" class="headerlink" title="1.1 监听器概述"></a>1.1 监听器概述</h3><h4 id="什么是监听器"><a href="#什么是监听器" class="headerlink" title="什么是监听器"></a>什么是监听器</h4><p>​        监听器就是一个实现了特定接口的Java类，这个Java类用于监听另一个Java类的方法调用或者属性的改变。当被监听对象发生上述事件后，监听器某个方法将会立即被执行。</p>
<h4 id="监听器的术语"><a href="#监听器的术语" class="headerlink" title="监听器的术语"></a>监听器的术语</h4><p>    事件源：指的是被监听对象（汽车）<br>    监听器：指的是监听的对象（报警器）<br>    事件源和监听器绑定：在汽车上安装报警器<br>    事件：指的是事件源对象的改变（踹了汽车一脚）—-主要功能获得事件源对象。</p>
<p>为事件源绑定监听器,当事件源发生事件,那么监听器就会去处理(执行对应的方法)</p>
<ol>
<li>事件源</li>
<li>监听器(方法)</li>
<li>为事件源绑定监听器</li>
</ol>
<h3 id="1-2-监听器的执行流程"><a href="#1-2-监听器的执行流程" class="headerlink" title="1.2 监听器的执行流程"></a>1.2 监听器的执行流程</h3><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560154006851.jpg" alt="img"></p>
<ol>
<li>明确事件源和监听器</li>
<li>明确如何为事件源绑定监听器</li>
<li>明确事件的触发</li>
<li>明确事件触发之后会执行监听器中的哪个方法</li>
</ol>
<h3 id="1-3-Servlet中的监听器"><a href="#1-3-Servlet中的监听器" class="headerlink" title="1.3 Servlet中的监听器"></a>1.3 Servlet中的监听器</h3><ul>
<li><p><strong>Servlet中的监听器简介</strong></p>
<p>在Servlet中定义了多种类型的监听器，它们用于监听的事件源分别是ServletContext、HttpSession和ServletRequest这三个域对象。</p>
</li>
<li><p><strong>Servlet中的监听器的分类</strong></p>
<p>    一类：监听三个域对象的创建和销毁的监听器（三个）<br>    二类：监听三个域对象的属性变更（属性添加、移除、替换）的监听器（三个）<br>    三类：监听HttpSession中JavaBean的状态改变（钝化、活化、绑定、解除绑定）的监听（两个）</p>
</li>
<li><p>第一类</p>
<p><strong>3个监听域对象的创建和销毁的监听器</strong></p>
<ul>
<li><p><strong>ServletContextListener</strong></p>
<p>用来监听ServletContext域对象的创建和销毁的监听器。</p>
<p>    <strong>ServletContext</strong><br>    创建：在服务器启动的时候，为每个web应用创建单独的ServletContext对象。<br>    销毁：在服务器关闭的时候，或者项目从web服务器中移除的时候。</p>
</li>
<li><p><strong>HttpSessionListener</strong></p>
<p>用来监听HttpSession对象的创建和销毁。</p>
<p><strong>HttpSession</strong></p>
<p>    创建：<br>    服务器端第一次调用getSession()方法时候。<br>    销毁：<br>    非正常关闭服务器（正常关闭服务器session会被序列化）。<br>    Session过期（默认过期时间30分钟）。<br>    手动调用session.invalidate()方法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">	访问HTML是否创建Session		：不会</span><br><span class="line">	访问JSP是否创建Session		：会</span><br><span class="line">	访问Servlet是否创建Session	：不会（默认没有调用getSession方法）</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>ServletRequestListener</strong></p>
<p>用来监听ServletRequest对象的创建和销毁</p>
<p><strong>ServletRequest</strong></p>
<p>    创建<br>    从客户端向服务器发送一次请求，服务器就会创建request对象。<br>    销毁<br>    服务器对这次请求作出了响应之后，request对象就销毁了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">	访问HTML页面是否创建请求对象	：会</span><br><span class="line">	访问JSP页面是否创建请求对象		：会</span><br><span class="line">	访问Servlet是否创建请求对象	 ：会</span><br></pre></td></tr></table></figure>



</li>
</ul>
</li>
</ul>
<ul>
<li><p>第二类</p>
<p><strong>3个用来监听域对象属性变化的监听器</strong></p>
<ul>
<li><p><strong>ServletContextAttributeListener</strong></p>
<p>监听ServletContext对象中的属性变更（属性添加，移除，替换）的监听器</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560154538128.jpg" alt="img"></p>
</li>
<li><p><strong>HttpSessionAttributeListener</strong></p>
<p>监听HttpSession对象中的属性变更（属性添加，移除，替换）的监听器</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560154575695.jpg" alt="img"></p>
</li>
<li><p><strong>ServletRequestAttributeListener</strong></p>
<p>监听ServletRequest对象中的属性变更（属性添加，移除，替换）的监听器</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560154616865.jpg" alt="img"></p>
</li>
</ul>
</li>
<li><p>第三类</p>
<p>保存在Session域中的Java类可以有多种状态：绑定到session中；从session中解除绑定；随session对象持久化到一个存储设备中（钝化）；随session对象从一个存储设备中恢复（活化）。<br>Servlet对方中定义了两个特殊的监听的接口来帮助Java类了解自己在Session域中的状态：<br>HttpSessionBindingListener接口    监听绑定和解除绑定<br>HttpSessionActivationListener接口， 监听钝化和活化<br>实现这两个接口的类不需要在web.xml中进行配置。</p>
<ul>
<li><p><strong>HttpSessionBindingListener</strong></p>
<p>监听Java类在HttpSession中的绑定和解除绑定的状态的监听器：</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560154806150.jpg" alt="img"></p>
</li>
<li><p><strong>HttpSessionActivationListener</strong></p>
<p>监听HttpSession中Java类的钝化和活化监听器。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560154832201.jpg" alt="img"></p>
</li>
<li><p>配置完成session的序列化和反序列化</p>
<p>Context标签可以配置在：</p>
<p>tomcat/conf/context.xml   :所有tomcat下虚拟主机和虚拟目录下的工程都会序列化session</p>
<p>tomcat/conf/Catalina/localhost/context.xml :localhost虚拟主机下的所有项目会序列化session</p>
<p>工程/META-INF/context.xml :当前工程才会序列化session。</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Manager</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.session.PersistentManager"</span> <span class="attr">maxIdleSwap</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">Store</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.session.FileStore"</span> <span class="attr">directory</span>=<span class="string">"itheima"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Manager</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h2 id="2-Filter"><a href="#2-Filter" class="headerlink" title="2.Filter"></a>2.Filter</h2><p>Filter称为过滤器，它是Servlet技术中最实用的技术，web开发人员通过Filter技术，对web服务器所管理的资源（JSP，Servlet，静态图片或静态html文件）进行拦截，从而实现一些特殊的功能。</p>
<p>Filter</p>
<p>就是过滤从客户端向服务器发送的请求。</p>
<h3 id="2-1-Filter过滤原理"><a href="#2-1-Filter过滤原理" class="headerlink" title="2.1 Filter过滤原理"></a>2.1 Filter过滤原理</h3><p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560154990326.jpg" alt="img"></p>
<h3 id="2-2-FilterChain"><a href="#2-2-FilterChain" class="headerlink" title="2.2 FilterChain"></a>2.2 FilterChain</h3><p>FilterChain过滤器链：在一个web应用中，可以开发编写多个Filter，这些Filter组合起来称为是一个过滤器链。</p>
<p>Web服务器根据Filter在web.xml文件中的注册顺序（mapping的配置顺序）决定先调用那个Filter。依次调用后面的过滤器，如果没有下一个过滤器，调用目标资源</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560155035318.jpg" alt="img"></p>
<h3 id="2-3-Filter的生命周期"><a href="#2-3-Filter的生命周期" class="headerlink" title="2.3 Filter的生命周期"></a>2.3 Filter的生命周期</h3><p>Filter的创建和销毁是由web服务器负责。Web应用程序启动的时候，web服务器创建Filter的实例对象。并调用其init方法进行初始化（filter对象只会创建一次，init方法也只会执行一次）。</p>
<p>每次filter进行拦截的时候，都会执行doFilter的方法。</p>
<p>当服务器关闭的时候，应用从服务器中移除的时候，服务器会销毁Filter对象。</p>
<h3 id="2-4-FilterConfig对象"><a href="#2-4-FilterConfig对象" class="headerlink" title="2.4 FilterConfig对象"></a>2.4 FilterConfig对象</h3><p>用来获得Filter的相关的配置的对象。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5Cclip_image002-1560155133399.jpg" alt="img"></p>
<h3 id="2-5-Filter相关配置"><a href="#2-5-Filter相关配置" class="headerlink" title="2.5 Filter相关配置"></a>2.5 Filter相关配置</h3><ul>
<li><p><url-pattern>的配置</url-pattern></p>
<p>完全路径匹配       ：以/开始   比如/aaa  /aaa/bbb</p>
<p>目录匹配               ：以/开始 以<em>结束  比如/</em>  /aaa/*  /aaa/bbb/*</p>
<p>扩展名匹配          ：不能以/开始 以<em>开始 比如</em>.jsp  *.do   *.action</p>
</li>
<li><p><servlet-name>的配置</servlet-name></p>
<p>专门以Servlet的配置的名称拦截Servlet。</p>
</li>
<li><p><dispatcher>的配置</dispatcher></p>
<p>    默认的情况下过滤器会拦截请求。如果进行转发（需要拦截这次转发）。<br>    dispatcher的取值<br>    REQUEST    :默认值。默认过滤器拦截的就是请求。<br>    FORWARD:转发。<br>    INCLUDE    :页面包含的时候进行拦截<br>    ERROR    :页面出现全局错误页面跳转的时候进行拦截</p>
</li>
</ul>
<h2 id="3-案例实现"><a href="#3-案例实现" class="headerlink" title="3.案例实现"></a>3.案例实现</h2><h3 id="3-1-统计当前在线人数"><a href="#3-1-统计当前在线人数" class="headerlink" title="3.1 统计当前在线人数"></a>3.1 统计当前在线人数</h3><p>分析:    1.在启动服务器时,在servletContext域中初始化在线人数为0.</p>
<p>​            2.用户登录,就在session域中存入用户信息,获取ServletContext域中的在线人数,加一后,再存入;</p>
<p>​            3.session过期后,获取ServletContext域中的在线人数,减一后,再存入;</p>
<p><strong>servletContextListener</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.ServletContextEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletContextListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">myServletContextListener</span> <span class="keyword">implements</span> <span class="title">ServletContextListener</span> </span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextInitialized</span><span class="params">(ServletContextEvent sce)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//初始化count=0</span></span><br><span class="line">	sce.getServletContext().setAttribute(<span class="string">"count"</span>, <span class="number">0</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">contextDestroyed</span><span class="params">(ServletContextEvent sce)</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>HttpSessionListener</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionEvent;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSessionListener;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">myHttpSessionListener</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">		HttpSession session = se.getSession();</span><br><span class="line">		System.out.println(session.getId() + <span class="string">"上线了"</span>);</span><br><span class="line">		<span class="comment">//获取servletContext中的在线人数</span></span><br><span class="line">		Integer count = (Integer) session.getServletContext().getAttribute(</span><br><span class="line">				<span class="string">"count"</span>);</span><br><span class="line">		count++;</span><br><span class="line">		<span class="comment">//count+1后存回		session.getServletContext().setAttribute("count", count);</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">		HttpSession session = se.getSession();</span><br><span class="line">		System.out.println(session.getId() + <span class="string">"离线了"</span>);</span><br><span class="line">		Integer count = (Integer) session.getServletContext().getAttribute(</span><br><span class="line">				<span class="string">"count"</span>);</span><br><span class="line">		count++;		session.getServletContext().setAttribute(<span class="string">"count"</span>, count);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>页面</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">	pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h1&gt;当前在线人数为:$&#123;count &#125;&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-2-权限验证及通用字符集编码过滤器"><a href="#3-2-权限验证及通用字符集编码过滤器" class="headerlink" title="3.2 权限验证及通用字符集编码过滤器"></a>3.2 权限验证及通用字符集编码过滤器</h3><h4 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h4><p><strong>loginServlet</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itheima.domian.User;</span><br><span class="line"><span class="keyword">import</span> com.itheima.model.loginModel;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet implementation class loginServlet</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">loginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">			HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">// 获取数据</span></span><br><span class="line">			String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">			String password = request.getParameter(<span class="string">"password"</span>);</span><br><span class="line">			<span class="comment">//System.out.println(username + "---" + password);</span></span><br><span class="line">			<span class="comment">// 封装数据</span></span><br><span class="line">			User user = <span class="keyword">new</span> User();</span><br><span class="line">			user.setUsername(username);</span><br><span class="line">			user.setPassword(password);</span><br><span class="line"><span class="comment">//			System.out.println(user.getUsername() + "--" + user.getPassword());</span></span><br><span class="line">			<span class="comment">// 处理数据</span></span><br><span class="line">			loginModel userModel = <span class="keyword">new</span> loginModel();</span><br><span class="line">			User existuser = userModel.login(user);</span><br><span class="line">			<span class="comment">// 判断数据</span></span><br><span class="line">			<span class="keyword">if</span> (existuser == <span class="keyword">null</span>) &#123;</span><br><span class="line">				<span class="comment">// 登陆失败</span></span><br><span class="line">				request.setAttribute(<span class="string">"msg"</span>, <span class="string">"用户名或密码错误!"</span>);			request.getRequestDispatcher(<span class="string">"/login.jsp"</span>).forward(request,response);</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				<span class="comment">// 登陆成功</span></span><br><span class="line">			<span class="comment">//在Session中存入用户信息	request.getSession().setAttribute("user", existuser);</span></span><br><span class="line">	<span class="comment">//跳转到成功页面			response.sendRedirect("/web05_login/jsp/success.jsp");</span></span><br><span class="line">            &#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></span><br><span class="line"><span class="function"><span class="params">			HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">		doGet(request, response);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>myServletRequest</strong>(采用装饰者模式加强方法)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequestWrapper;</span><br><span class="line"><span class="comment">//增强request的getparameter方法</span></span><br><span class="line"><span class="comment">//修饰者增强方法需满足</span></span><br><span class="line"><span class="comment">//1.增强类和被增强类实现相同的接口</span></span><br><span class="line"><span class="comment">//2.增强类中有被增强类的引用</span></span><br><span class="line"><span class="comment">//继承HttpServletRequestWrapper  HttpServletRequestWrapper实现了httpServletRequest接口</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">myServletRequest</span> <span class="keyword">extends</span> <span class="title">HttpServletRequestWrapper</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> HttpServletRequest request;</span><br><span class="line">	<span class="comment">// 引用了HttpServletRequest对象request</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">myServletRequest</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(request);</span><br><span class="line">		<span class="keyword">this</span>.request = request;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getParameter</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (request.getMethod().equals(<span class="string">"GET"</span>)) &#123;</span><br><span class="line">			String value = <span class="keyword">super</span>.getParameter(<span class="string">"name"</span>);</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				value = <span class="keyword">new</span> String(value.getBytes(<span class="string">"ISO-8859-1"</span>), <span class="string">"UTF-8"</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">return</span> value;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (request.getMethod().equals(<span class="string">"POST"</span>)) &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				request.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">super</span>.getParameter(name);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Domain"><a href="#Domain" class="headerlink" title="Domain"></a>Domain</h4><p><strong>user</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> uid;</span><br><span class="line">	<span class="keyword">private</span> String username;</span><br><span class="line">	<span class="keyword">private</span> String password;</span><br><span class="line">	<span class="keyword">private</span> String nickname;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getUid</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> uid;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUid</span><span class="params">(<span class="keyword">int</span> uid)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.uid = uid;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> username;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUsername</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.username = username;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getPassword</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> password;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassword</span><span class="params">(String password)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.password = password;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getNickname</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> nickname;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNickname</span><span class="params">(String nickname)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.nickname = nickname;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h4><p><strong>GennericEncoding</strong>(通用字符集编码过滤)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.Filter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterChain;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itheima.controller.myServletRequest;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Servlet Filter implementation class GenericEncoding</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericEncoding</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">GenericEncoding</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response,</span></span></span><br><span class="line"><span class="function"><span class="params">			FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">		HttpServletRequest req = (HttpServletRequest) request;</span><br><span class="line">		<span class="comment">//调用增强的方法</span></span><br><span class="line">		myServletRequest myReq = <span class="keyword">new</span> myServletRequest(req);</span><br><span class="line">		chain.doFilter(myReq, response);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig fConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>loginFilet</strong>(权限过滤)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.Filter;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterChain;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.FilterConfig;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">loginFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response,</span></span></span><br><span class="line"><span class="function"><span class="params">			FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">		HttpServletRequest res = (HttpServletRequest) request;</span><br><span class="line">		</span><br><span class="line">		HttpSession session = res.getSession();</span><br><span class="line">		<span class="keyword">if</span> (session.getAttribute(<span class="string">"user"</span>) == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="comment">// 未登录</span></span><br><span class="line">			res.setAttribute(<span class="string">"msg"</span>, <span class="string">"你还未登陆,没有权限访问该页面"</span>);			res.getRequestDispatcher(<span class="string">"/login.jsp"</span>).forward(request, response);</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			chain.doFilter(request, response);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.QueryRunner;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanHandler;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.itheima.domian.User;</span><br><span class="line"><span class="keyword">import</span> com.itheima.utils.JDBCUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">loginModel</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> User <span class="title">login</span><span class="params">(User user)</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		QueryRunner q = <span class="keyword">new</span> QueryRunner(JDBCUtils.getDataSource());</span><br><span class="line">		User existuser = q.query(</span><br><span class="line">				<span class="string">"select * from user where username = ? and password = ?"</span>,</span><br><span class="line">				<span class="keyword">new</span> BeanHandler&lt;User&gt;(User.class), user.getUsername(),</span><br><span class="line">				user.getPassword());</span><br><span class="line">		<span class="keyword">return</span> existuser;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Utils"><a href="#Utils" class="headerlink" title="Utils"></a>Utils</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.tomcat.jdbc.pool.DataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> ComboPooledDataSource d = <span class="keyword">new</span> ComboPooledDataSource();</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> d.getConnection();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> ComboPooledDataSource <span class="title">getDataSource</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> d;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="页面"><a href="#页面" class="headerlink" title="页面"></a>页面</h4><p><strong>login.jsp</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">	pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;登陆&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h1&gt;登陆页面&lt;/h1&gt;</span><br><span class="line">	&lt;h3&gt;</span><br><span class="line">		&lt;font color="red"&gt;$&#123;msg &#125;&lt;/font&gt;</span><br><span class="line">	&lt;/h3&gt;</span><br><span class="line">	&lt;form action=<span class="string">"/web05_login/loginServlet"</span> method=<span class="string">"post"</span>&gt;</span><br><span class="line">		&lt;table&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;用户名:&lt;/td&gt;</span><br><span class="line">				&lt;td&gt;&lt;input type="text" name="username"&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td&gt;密码:&lt;/td&gt;</span><br><span class="line">				&lt;td&gt;&lt;input type="password" name="password"&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">			&lt;tr&gt;</span><br><span class="line">				&lt;td colspan="2"&gt;&lt;input type="submit" value="登陆"&gt;&lt;/td&gt;</span><br><span class="line">			&lt;/tr&gt;</span><br><span class="line">		&lt;/table&gt;</span><br><span class="line">	&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p><strong>success.jsp</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=UTF-8"</span></span><br><span class="line">	pageEncoding=<span class="string">"UTF-8"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html PUBLIC <span class="string">"-//W3C//DTD HTML 4.01 Transitional//EN"</span> <span class="string">"http://www.w3.org/TR/html4/loose.dtd"</span>&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta http-equiv=<span class="string">"Content-Type"</span> content=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;h1&gt;</span><br><span class="line">		欢迎!&lt;font&gt;$&#123;user.nickname &#125;&lt;/font&gt;</span><br><span class="line">	&lt;/h1&gt;&lt;a href="/web05_login/jsp/sub.jsp"&gt;提交数据&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h4 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h4><p><strong>c3p0-config.xml</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">default-config</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span>&gt;</span>jdbc:mysql:///web02<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span>abc<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		</span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialPoolSize"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minPoolSize"</span>&gt;</span>5<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span>&gt;</span>20<span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">default-config</span>&gt;</span> 	</span><br><span class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/Listener-Filter/" data-id="cjycofm9d0003jg7kukzyfzgj" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  
    <article id="post-Maven工程分层" class="wow slideInRight article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/Maven工程分层/" class="article-date">
  <time class="post-time" datetime="2019-07-21T08:05:36.687Z" itemprop="datePublished">
    <span class="post-month">7月</span><br>
    <span class="post-day">21</span>
  </time>
</a>
   
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/Maven工程分层/">Maven工程分层</a>
    </h1>
  

        <div>
          
          
              

          
        </div>
      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Maven工程分层"><a href="#Maven工程分层" class="headerlink" title="Maven工程分层"></a>Maven工程分层</h1><p>工程分层后的开发：所有的service和dao的代码都在一起，增强程序的通用性，降低了代码的耦合性</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1562675358781.png" alt="1562675358781"></p>
<p><strong>聚合（多模块）和继承</strong></p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1562675380479.png" alt="1562675380479"></p>
<p>特点1（继承）：</p>
<p>parent父工程：存放项目的所有jar包。</p>
<p>ssm_web和ssm_service和ssm_dao有选择的继承jar包，并在自己的工程中使用。</p>
<p>特点2（聚合）：</p>
<p>ssm_web依赖于ssm_service，ssm_service依赖于ssm_dao，我们启动ssm_web，便可以访问我们的程序。</p>
<p>执行安装的时候，执行ssm_parent，就可以将所有的子工程全部进行安装。</p>
<p>理解继承和聚合总结：</p>
<p>通常继承和聚合同时使用。</p>
<ul>
<li>何为继承？</li>
</ul>
<p>继承是为了消除重复，如果将 dao、 service、 web 分开创建独立的工程则每个工程的 pom.xml 文件中的内容存在重复，比如：设置编译版本、锁定 spring 的版本的等，可以将这些重复的 配置提取出来在父工程的 pom.xml 中定义。</p>
<ul>
<li>何为聚合？</li>
</ul>
<p>项目开发通常是分组分模块开发， 每个模块开发完成要运行整个工程需要将每个模块聚合在 一起运行，比如： dao、 service、 web 三个工程最终会打一个独立的 war 运行。</p>
<p><img src="D:%5Ctypora%E7%AC%94%E8%AE%B0%5CTypora%E5%9B%BE%E7%89%87%5C1562675405045.png" alt="1562675405045"></p>
<h2 id="1-工程分层开发案例"><a href="#1-工程分层开发案例" class="headerlink" title="1.工程分层开发案例"></a>1.工程分层开发案例</h2><h3 id="1-1-ssm-parent"><a href="#1-1-ssm-parent" class="headerlink" title="1.1 ssm-parent"></a>1.1 ssm-parent</h3><h4 id="pom-xml"><a href="#pom-xml" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ssm_model<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ssm_dao<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ssm_service<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">module</span>&gt;</span>ssm_web<span class="tag">&lt;/<span class="name">module</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">modules</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>pom<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--特殊属性定义,一般是版本号--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">spring.version</span>&gt;</span>5.0.2.RELEASE<span class="tag">&lt;/<span class="name">spring.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">slf4j.version</span>&gt;</span>1.6.6<span class="tag">&lt;/<span class="name">slf4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">log4j.version</span>&gt;</span>1.2.12<span class="tag">&lt;/<span class="name">log4j.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mysql.version</span>&gt;</span>5.1.6<span class="tag">&lt;/<span class="name">mysql.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mybatis.version</span>&gt;</span>3.4.5<span class="tag">&lt;/<span class="name">mybatis.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aspectjweaver.version</span>&gt;</span>1.6.8<span class="tag">&lt;/<span class="name">aspectjweaver.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">junit.version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">junit.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jsp-api.version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">jsp-api.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-api.version</span>&gt;</span>2.5<span class="tag">&lt;/<span class="name">servlet-api.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jstl.version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">jstl.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mybatis-spring.version</span>&gt;</span>1.3.0<span class="tag">&lt;/<span class="name">mybatis-spring.version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">druid.version</span>&gt;</span>1.0.9<span class="tag">&lt;/<span class="name">druid.version</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--文件的编码格式--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.build.sourceEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.build.sourceEncoding</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">project.reporting.outputEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">project.reporting.outputEncoding</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">        jar包管理</span></span><br><span class="line"><span class="comment">        dependencyManagement:并非导入依赖,而只是管理依赖(可供子工程选择)</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--引入依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- spring --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;aspectjweaver.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--spring包--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--用于SpringMVC--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--用于数据库源相关操作--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--ServletAPI--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;servlet-api.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;jsp-api.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--jstl标签--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;jstl.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--MySQL数据库驱动--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mysql.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--测试框架--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;junit.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!-- log start --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;log4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;slf4j.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- log end --&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--mybatis--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mybatis.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--MyBatis集成Spring--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;mybatis-spring.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">&lt;!--数据源--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;druid.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencyManagement</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--插件--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--tomcat插件--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--插件使用的相关配置--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!--端口号--&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">port</span>&gt;</span>18081<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!--写当前项目的名字(虚拟路径),如果写/，那么每次访问项目就不需要加项目名字了--&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">                        <span class="comment">&lt;!--解决get请求乱码--&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">uriEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">uriEncoding</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">pluginManagement</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="1-2-ssm-domain"><a href="#1-2-ssm-domain" class="headerlink" title="1.2 ssm-domain"></a>1.2 ssm-domain</h3><h4 id="pom-xml-1"><a href="#pom-xml-1" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_model<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="创建实体类Items-java"><a href="#创建实体类Items-java" class="headerlink" title="创建实体类Items.java"></a>创建实体类Items.java</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Items</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Float price;</span><br><span class="line">    <span class="keyword">private</span> String pic;</span><br><span class="line">    <span class="keyword">private</span> Date createtime;</span><br><span class="line">    <span class="keyword">private</span> String detail;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Float <span class="title">getPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPrice</span><span class="params">(Float price)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.price = price;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPic</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> pic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPic</span><span class="params">(String pic)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.pic = pic;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getCreatetime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> createtime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCreatetime</span><span class="params">(Date createtime)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.createtime = createtime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getDetail</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> detail;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDetail</span><span class="params">(String detail)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.detail = detail;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Items&#123;"</span> +</span><br><span class="line">                <span class="string">"id="</span> + id +</span><br><span class="line">                <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", price="</span> + price +</span><br><span class="line">                <span class="string">", pic='"</span> + pic + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">", createtime="</span> + createtime +</span><br><span class="line">                <span class="string">", detail='"</span> + detail + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-ssm-dao"><a href="#1-3-ssm-dao" class="headerlink" title="1.3 ssm-dao"></a>1.3 ssm-dao</h3><h4 id="pom-xml-2"><a href="#pom-xml-2" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_dao<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--model依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_model<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis集成spring--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--数据源--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mysql驱动--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--springJDBC--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--log start--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--log end--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="applicationContext-dao-xml"><a href="#applicationContext-dao-xml" class="headerlink" title="applicationContext-dao.xml"></a>applicationContext-dao.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--数据源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"dataSource"</span> <span class="attr">class</span>=<span class="string">"com.alibaba.druid.pool.DruidDataSource"</span> <span class="attr">destroy-method</span>=<span class="string">"close"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span> <span class="attr">value</span>=<span class="string">"com.mysql.jdbc.Driver"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql:///test03"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"abc"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--sqlSessionFactory--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--开启dao包扫描--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"mapperScanner"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.mapper.MapperScannerConfigurer"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"basePackage"</span> <span class="attr">value</span>=<span class="string">"com.cyannote.ssm.dao"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>创建持久层接口ItemsDao.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ItemsDao</span> </span>&#123;</span><br><span class="line">    <span class="comment">//查询所有</span></span><br><span class="line">    <span class="meta">@Select</span>(value = <span class="string">"select * from items"</span>)</span><br><span class="line">    <span class="function">List&lt;Items&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//保存</span></span><br><span class="line">    <span class="meta">@Insert</span>(value = <span class="string">"insert into items (id,name,price,pic,createtime,detail) values ( #&#123;id&#125;, #&#123;name&#125;, #&#123;price&#125;, #&#123;pic&#125;, #&#123;createtime&#125;, #&#123;detail&#125;)"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">saveItems</span><span class="params">(Items items)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-ssm-service"><a href="#1-4-ssm-service" class="headerlink" title="1.4 ssm-service"></a>1.4 ssm-service</h3><h4 id="pom-xml-3"><a href="#pom-xml-3" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_service<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!----&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--dao依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_dao<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--spring--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--切面编程--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--spring事务--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-tx<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="applicationContext-service-xml"><a href="#applicationContext-service-xml" class="headerlink" title="applicationContext-service.xml"></a>applicationContext-service.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span> <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/tx/spring-tx.xsd "</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--导入applicationContext-dao.xml--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"applicationContext-dao.xml"</span>&gt;</span><span class="tag">&lt;/<span class="name">import</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--事务管理器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--开启事务注解扫描--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="创建业务层接口ItemsService及其实现类ItemsServiceImpl"><a href="#创建业务层接口ItemsService及其实现类ItemsServiceImpl" class="headerlink" title="创建业务层接口ItemsService及其实现类ItemsServiceImpl"></a><strong>创建业务层接口ItemsService及其实现类ItemsServiceImpl</strong></h4><p>ItemsService.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ItemsService</span> </span>&#123;</span><br><span class="line">    <span class="comment">//查询所有</span></span><br><span class="line">    <span class="function">List&lt;Items&gt; <span class="title">findAll</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="comment">//保存</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">saveItems</span><span class="params">(Items items)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ItemsServiceImpl.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span>(<span class="string">"itemsService"</span>)</span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ItemsServiceImpl</span> <span class="keyword">implements</span> <span class="title">ItemsService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> ItemsDao itemsDao;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Items&gt; <span class="title">findAll</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> itemsDao.findAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">saveItems</span><span class="params">(Items items)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> itemsDao.saveItems(items);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-5-ssm-web"><a href="#1-5-ssm-web" class="headerlink" title="1.5 ssm-web"></a>1.5 ssm-web</h3><h4 id="pom-xml-4"><a href="#pom-xml-4" class="headerlink" title="pom.xml"></a>pom.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">"http://maven.apache.org/POM/4.0.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">packaging</span>&gt;</span>war<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--service依赖--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.cyannote<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>ssm_service<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--springmvc--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--sevletApi--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--编译,测试时有效,运行时无效--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!--标签库--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--插件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--tomcat插件--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.tomcat.maven<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>tomcat7-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--插件使用的相关配置--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--端口号--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">port</span>&gt;</span>18081<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--写当前项目的名字(虚拟路径),如果写/，那么每次访问项目就不需要加项目名字了--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">path</span>&gt;</span>/<span class="tag">&lt;/<span class="name">path</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!--解决get请求乱码--&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">uriEncoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">uriEncoding</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">            <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="web-xml"><a href="#web-xml" class="headerlink" title="web.xml"></a>web.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">version</span>=<span class="string">"2.4"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--核心控制器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springmvc.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>dispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--post请求中文乱码过滤--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>characterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="springmvc-xml"><a href="#springmvc-xml" class="headerlink" title="springmvc.xml"></a>springmvc.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">"http://www.springframework.org/schema/context"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">"http://www.springframework.org/schema/mvc"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/context</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/mvc</span></span></span><br><span class="line"><span class="tag"><span class="string">   http://www.springframework.org/schema/mvc/spring-mvc.xsd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--导入applicationContext-service.xml--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"applicationContext-service.xml"</span>&gt;</span><span class="tag">&lt;/<span class="name">import</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--开启扫描--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.cyannote.ssm"</span>&gt;</span><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--注解驱动--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--图形解析器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"viewResolver"</span> <span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/pages/"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--静态资源--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:default-servlet-handler</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="创建ItemsController"><a href="#创建ItemsController" class="headerlink" title="创建ItemsController"></a><strong>创建ItemsController</strong></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@Controller</span><br><span class="line">@RequestMapping(path = "/items")</span><br><span class="line">public class ItemsController &#123;</span><br><span class="line">    @Autowired</span><br><span class="line">    private ItemsService itemsService;</span><br><span class="line"></span><br><span class="line">    @RequestMapping(path = "/findAll")</span><br><span class="line">    public String findAll(Model model)&#123;</span><br><span class="line">        List<span class="tag">&lt;<span class="name">Items</span>&gt;</span> list = itemsService.findAll();</span><br><span class="line">        model.addAttribute("items",list);</span><br><span class="line">        return "success";</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @RequestMapping(path = "/save")</span><br><span class="line">    public String saveItems(Items items)&#123;</span><br><span class="line">        int rows = itemsService.saveItems(items);</span><br><span class="line">        if (rows &gt; 0)&#123;</span><br><span class="line">            return "redirect:/items/findAll";</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            return "redirect:index.jsp";</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="编写页面"><a href="#编写页面" class="headerlink" title="编写页面"></a><strong>编写页面</strong></h4><p>index.jsp</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h3&gt;查询所有&lt;/h3&gt;</span><br><span class="line">&lt;&lt;a href="/items/findAll"&gt;查询所有&lt;/a&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<p>succes.jsp</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;%@ taglib prefix=<span class="string">"c"</span> uri=<span class="string">"http://java.sun.com/jsp/jstl/core"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h3&gt;访问成功!&lt;/h3&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;h3&gt;新增/查询&lt;/h3&gt;</span><br><span class="line">&lt;form method=<span class="string">"post"</span> action=<span class="string">"/items/save"</span>&gt;</span><br><span class="line">    &lt;table&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;名称&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type="text" name="name"&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;价格&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type="text" name="price"&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;图片&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type="text" name="pic"&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;创建日期&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type="text" name="createtime"&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;详情&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type="text" name="detail"&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td colspan="2"&gt;&lt;input type="submit" name="保存"&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;hr&gt;</span><br><span class="line">&lt;table border=<span class="string">"1"</span>&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">        &lt;td&gt;ID&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;name&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;price&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;pic&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;createTime&lt;/td&gt;</span><br><span class="line">        &lt;td&gt;detail&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line"></span><br><span class="line">        &lt;c:forEach items=<span class="string">"$&#123;items&#125;"</span> <span class="keyword">var</span>=<span class="string">"item"</span>&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;td&gt;$&#123;item.id&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;item.name&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;item.price&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;item.pic&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;item.createtime&#125;&lt;/td&gt;</span><br><span class="line">                &lt;td&gt;$&#123;item.detail&#125;&lt;/td&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/c:forEach&gt;</span><br><span class="line"></span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://cyannote.github.io.git/Maven工程分层/" data-id="cjycofm9m0004jg7kjmhcbnti" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>




  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">next &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <h1 class="blog-title">Hexo</h1>
    <h2 class="blog-subtitle"></h2>
    <ul class="blog-link">
     
          <a href="/" title="Home">
            <li>主页</li>
          </a>
        
          <a href="/archives" title="Archives">
            <li>归档</li>
          </a>
        
          <a href="/categories" title="Categories">
            <li>分类</li>
          </a>
        
          <a href="/tags" title="Tags">
            <li>标签</li>
          </a>
        
    </ul>
  </div>
</div>

  
    <div class="widget-wrap">
  <h3 class="widget-title"></h3>
  <div class="widget">
    <img class="avatar" src="/source/plugin/img/avatar.jpg">
    <h2 class="author">inverse</h2>
    <h3 class="description"></h3>
    <div class="count-box">
      <a href="/archives"><div><strong>19</strong><br>文章</div></a>
      <a href="/categories"><div><strong>0</strong><br>分类</div></a>
      <a href="/tags"><div><strong>0</strong><br>标签</div></a>
    </div>



    <div class="social-link">
      
        <a class="hvr-bounce-in" href="http://github.com/cyannote" target="_blank" title="Github">
          Github
        </a>
      
    </div>

    <div class="friend-link">
      <h2>友情链接</h2>
      
        <a class="hvr-bounce-in" href="http://blog.shanamaid.top/" target="_blank" title="ShanaMaid">
          ShanaMaid
        </a>
      
    </div>
  </div>
</div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy;2018 - 2019 inverse<br>
      由<a href="http://hexo.io/" target="_blank">Hexo</a>强力驱动 | 
      主题-<a href="https://github.com/ShanaMaid/hexo-theme-shana">Shana</a>
      
    </div>
    
  </div>
</footer>
    </div>
    

<script src="//apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="//apps.bdimg.com/libs/wow/0.1.6/wow.min.js"></script>
<script>
new WOW().init();
</script>   


  <link rel="stylesheet" href="/plugin/fancybox/jquery.fancybox.css">
  <script src="/plugin/fancybox/jquery.fancybox.pack.js"></script>



  <link rel="stylesheet" href="/plugin/galmenu/GalMenu.css">
  <script src="/plugin/galmenu/GalMenu.js"></script>
  <div class="GalMenu GalDropDown">
      <div class="circle" id="gal">
        <div class="ring">
          
            <a href="/" title class="menuItem">首页</a>
          
            <a href="/tags" title class="menuItem">标签</a>
          
            <a href="/categories" title class="menuItem">分类</a>
          
            <a href="/archives" title class="menuItem">归档</a>
          
            <a href="/xxxxxxxxx" title class="menuItem">xxx</a>
          
            <a href="/xxxxxxx" title class="menuItem">xxxx</a>
          
        </div>
        
          <audio id="audio" src="#"></audio>
        
      </div> 
</div>
<div id="overlay" style="opacity: 1; cursor: pointer;"></div>
  <script type="text/javascript">var items = document.querySelectorAll('.menuItem');
    for (var i = 0,
    l = items.length; i < l; i++) {
      items[i].style.left = (50 - 35 * Math.cos( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%";
      items[i].style.top = (50 + 35 * Math.sin( - 0.5 * Math.PI - 2 * (1 / l) * i * Math.PI)).toFixed(4) + "%"
    }</script>
<script type="text/javascript">
  $(document).ready(function() {
    $('body').GalMenu({
      'menu': 'GalDropDown'
    })
  });
</script>

  <section class="hidden-xs"> 
  <ul class="cb-slideshow"> 
    <li><span>苟利</span></li> 
    <li><span>国家</span></li> 
    <li><span>生死以</span></li> 
    <li><span>岂能</span></li> 
    <li><span>祸福</span></li> 
    <li><span>趋避之</span></li> 
  </ul>
</section>
<script src="/js/script.js"></script>



  </div>
</body>
</html>